.ffe-radio-switch {
    --outer-circle-color: var(--ffe-color-border-primary-default);
    --inner-circle-color: transparent;
    --circle-background: var(--ffe-color-surface-primary-default);
    color: var(--ffe-color-foreground-default);

    padding: var(--ffe-spacing-xs) var(--ffe-spacing-md) var(--ffe-spacing-xs)
        var(--ffe-spacing-xs);
    grid-template-columns: auto 1fr;
    grid-column-gap: var(--ffe-spacing-xs);
    position: relative;
    border: var(--ffe-g-border-width) solid var(--outer-circle-color);
    border-radius: 48px;
    display: inline-grid;
    place-items: center;
    min-width: 100px;
    text-align: left;
    font-family: var(--ffe-g-font);
    font-variant-numeric: tabular-nums;
    cursor: pointer;
    transition: all var(--ffe-transition-duration) var(--ffe-ease);
    margin-bottom: var(--ffe-spacing-2xs);
    margin-top: var(--ffe-spacing-sm);
    line-height: 1.5;
    overflow-wrap: anywhere;
    background-color: var(--circle-background);

    &::before {
        content: '';
        left: 12px;
        top: 8px;
        background-color: var(--inner-circle-color);
        border: var(--ffe-g-border-width) solid var(--outer-circle-color);
        transition: all var(--ffe-transition-duration) var(--ffe-ease);
        width: 24px;
        height: 24px;
        border-radius: 50%;
        pointer-events: none;
    }

    @media (hover: hover) and (pointer: fine) {
        &:hover {
            background-color: var(--ffe-color-surface-primary-default-hover);
            border-color: var(--ffe-color-border-primary-default-hover);

            &::before {
                background-color: var(--ffe-color-surface-primary-default);
            }
        }
    }

    &:focus,
    &:active {
        background-color: var(--ffe-color-surface-primary-default-pressed);
    }

    @media (min-width: @breakpoint-sm) {
        margin-bottom: 0;
    }

    & + input + .ffe-radio-switch {
        margin-left: var(--ffe-spacing-xs);
    }

    &--condensed {
        height: 38px;
    }
}

.ffe-radio-input {
    &:where(:checked, :focus, :active, :hover) + .ffe-radio-switch::before {
        outline: none;
    }

    @media (hover: hover) and (pointer: fine) {
        &:hover + .ffe-radio-switch {
            --circle-background: var(--ffe-color-surface-primary-default-hover);
        }
    }

    &:checked + .ffe-radio-switch {
        --outer-circle-color: var(--ffe-color-fill-primary-selected-default);
        --inner-circle-color: var(--ffe-color-fill-primary-pressed);
        --circle-background: var(--ffe-color-fill-primary-selected-default);

        color: var(--ffe-color-foreground-inverse);
        border-color: var(--ffe-color-border-primary-emphasis);
        box-shadow: var(--ffe-g-border-focus-box-shadow)
            var(--ffe-color-border-primary-emphasis);

        &::before {
            border: 5px solid var(--ffe-color-surface-primary-default);
            outline: 2px solid var(--ffe-color-border-primary-emphasis);
            background-color: var(--ffe-color-fill-primary-selected-default);
        }

        @media (hover: hover) and (pointer: fine) {
            &:hover {
                background-color: var(--ffe-color-fill-primary-selected-hover);
            }
        }

        &:focus,
        &:active {
            background-color: var(--ffe-color-fill-primary-selected-pressed);
        }
    }

    &:focus + .ffe-radio-switch {
        --outer-circle-color: var(--ffe-color-border-interactive-focus);
        outline: none;
        box-shadow: 0 0 0 2px var(--ffe-color-border-interactive-focus);
    }

    &:disabled + .ffe-radio-switch {
        --outer-circle-color: var(--ffe-color-border-primary-subtle);
        --circle-background: var(--ffe-color-surface-primary-default);

        cursor: not-allowed;
        color: var(--ffe-color-foreground-subtle);
    }

    &[aria-invalid='true'] + .ffe-radio-switch {
        --outer-circle-color: var(--ffe-color-border-feedback-critical);
        box-shadow: var(--ffe-g-border-focus-box-shadow)
            var(--outer-circle-color);

        &::before {
            box-shadow: var(--ffe-g-border-focus-box-shadow)
                var(--outer-circle-color);
        }
    }
}
