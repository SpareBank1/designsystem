import{r as g,R as o}from"./index-DQDNmYQF.js";import{c as F}from"./index-D2FocPV0.js";import{I as D}from"./Icon-D_nm5xPy.js";import{D as b}from"./Dropdown-DU2fHO9Y.js";import{v as B}from"./v4-CtRu48qb.js";class v extends g.Component{componentDidMount(){this.props.focusOnMount&&this.focusIfNeeded()}componentDidUpdate(){this.focusIfNeeded()}focusIfNeeded(){var i;const{calendarButtonState:e,isFocusingHeader:t,dateButtonRef:a}=this.props;e.isFocus&&!t&&((i=a==null?void 0:a.current)==null||i.focus())}dateClassName(){const{calendarButtonState:e,isFocusingHeader:t}=this.props,{isEnabled:a,isFocus:i,isSelected:r,isToday:s}=e;return F({"ffe-calendar__date":!0,"ffe-calendar__date--today":s,"ffe-calendar__date--focus":i&&!t,"ffe-calendar__date--disabled":!a,"ffe-calendar__date--selected":r,"ffe-calendar__date--disabled-focus":!a&&i})}tabIndex(){return this.props.calendarButtonState.isFocus?0:-1}render(){const{calendarButtonState:e,headers:t,onClick:a,locale:i,dateButtonRef:r,month:s,year:l}=this.props,d=i==="en"?s:s.toLowerCase();return o.createElement("td",{className:"ffe-calendar__day",headers:t,role:"button",ref:r,"aria-disabled":!e.isEnabled,"aria-current":e.isSelected,"aria-label":`${e.dayInMonth}. ${d} ${l}`,tabIndex:this.tabIndex(),onClick:()=>a(e)},o.createElement("span",{className:this.dateClassName(),"aria-hidden":"true"},e.dayInMonth))}}v.__docgenInfo={description:"",methods:[{name:"focusIfNeeded",docblock:null,modifiers:[],params:[],returns:null},{name:"dateClassName",docblock:null,modifiers:[],params:[],returns:null},{name:"tabIndex",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ClickableDate",props:{calendarButtonState:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    dayInMonth: number;
    timestamp: number;
    isNonClickableDate: boolean;
    isToday: boolean;
    isFocus: boolean;
    isSelected: boolean;
    isEnabled: boolean;
}`,signature:{properties:[{key:"dayInMonth",value:{name:"number",required:!0}},{key:"timestamp",value:{name:"number",required:!0}},{key:"isNonClickableDate",value:{name:"boolean",required:!0}},{key:"isToday",value:{name:"boolean",required:!0}},{key:"isFocus",value:{name:"boolean",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"isEnabled",value:{name:"boolean",required:!0}}]}},description:""},month:{required:!0,tsType:{name:"string"},description:""},year:{required:!0,tsType:{name:"number"},description:""},headers:{required:!0,tsType:{name:"string"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: CalendarButtonState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    dayInMonth: number;
    timestamp: number;
    isNonClickableDate: boolean;
    isToday: boolean;
    isFocus: boolean;
    isSelected: boolean;
    isEnabled: boolean;
}`,signature:{properties:[{key:"dayInMonth",value:{name:"number",required:!0}},{key:"timestamp",value:{name:"number",required:!0}},{key:"isNonClickableDate",value:{name:"boolean",required:!0}},{key:"isToday",value:{name:"boolean",required:!0}},{key:"isFocus",value:{name:"boolean",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"isEnabled",value:{name:"boolean",required:!0}}]}},name:"date"}],return:{name:"void"}}},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:""},dateButtonRef:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLTableCellElement>",elements:[{name:"HTMLTableCellElement"}]},description:""},isFocusingHeader:{required:!0,tsType:{name:"boolean"},description:""},focusOnMount:{required:!1,tsType:{name:"boolean"},description:""}}};const k=({date:n})=>o.createElement("td",{"aria-hidden":!0,className:"ffe-calendar__day",key:n.timestamp,role:"button"});k.__docgenInfo={description:"",methods:[],displayName:"NonClickableDate",props:{date:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    timestamp: number;
}`,signature:{properties:[{key:"timestamp",value:{name:"number",required:!0}}]}},description:""}}};const O=n=>n<10?`0${n}`:n,$=/^(\d{1,2})(\.| |-|\/)?(\d{0,2})\2?(\d{0,2}(\d{2})?)$/;function R(n){return $.exec(n)}function le(n){var e;return((e=R(n))==null?void 0:e[4].length)===2}function ue(n,e,t){return`${O(n??0)}.${O(e??0)}.${t}`}function z(n){return!!n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function H(n,e){return 32-new Date(n,e,32).getDate()}class f{constructor(e){z(e)?this.internalDate=e:this.internalDate=new Date}get day(){return this.internalDate.getDay()}get date(){return this.internalDate.getDate()}get month(){return this.internalDate.getMonth()}get year(){return this.internalDate.getFullYear()}get daysInMonth(){return H(this.year,this.month)}get timestamp(){return this.internalDate.getTime()}set date(e){this.internalDate=new Date(this.year,this.month,e)}set year(e){this.internalDate=new Date(e,this.month,this.date)}set month(e){this.internalDate=new Date(this.year,e,this.date)}adjust({period:e,offset:t}){let a=e==="D"?this.date+t:this.date;const i=e==="M"?this.month+t:this.month,r=e==="Y"?this.year+t:this.year;e!=="D"&&(a=Math.max(1,Math.min(a,H(r,i)))),this.internalDate=new Date(r,i,a)}equal(e){return this.date===e.date&&this.month===e.month&&this.year===e.year}isBefore(e){return this.timestamp<e.timestamp}isAfter(e){return this.timestamp>e.timestamp}clone(){const e=new Date(this.year,this.month,this.date);return new f(e)}format(){const e=this.date<10?`0${this.date}`:this.date,t=this.month+1,a=t<10?`0${t}`:t;return`${e}.${a}.${this.year}`}toString(){return this.format()}}const N=()=>new f,S=n=>new f(new Date(n));function U(n,e){return n<e}function P(n){const e=new Date(n,0),t=e.getFullYear();return U(t,2e3)?e.getFullYear()+100:e.getFullYear()}function W(n){return parseInt(`2${n}`,10)}const K=()=>{},h=(n,e=K)=>{const t=n&&R(n);if(!t)return null;const a=t[1];let i=t[3],r=t[4];(r.length===1&&r!=="0"||r.length===2)&&(r=P(r)),r.length===3&&(r=W(r));const s=new Date;i||(i=s.getMonth()+1),(!r||r==="0")&&(r=s.getFullYear());const l=new f(new Date(r,i-1,a));return l.date!==a*1||l.month+1!==i*1||l.year!==r*1?null:(e(l),l)},J={DAY:"Day",MONTH:"Month",YEAR:"Year",DAY_1_SHORT:"Mon",DAY_2_SHORT:"Tue",DAY_3_SHORT:"Wed",DAY_4_SHORT:"Thu",DAY_5_SHORT:"Fri",DAY_6_SHORT:"Sat",DAY_0_SHORT:"Sun",DAY_1:"Monday",DAY_2:"Tuesday",DAY_3:"Wednesday",DAY_4:"Thursday",DAY_5:"Friday",DAY_6:"Saturday",DAY_0:"Sunday",MONTH_1_SHORT:"Jan",MONTH_2_SHORT:"Feb",MONTH_3_SHORT:"Mar",MONTH_4_SHORT:"Apr",MONTH_5_SHORT:"May",MONTH_6_SHORT:"Jun",MONTH_7_SHORT:"Jul",MONTH_8_SHORT:"Aug",MONTH_9_SHORT:"Sep",MONTH_10_SHORT:"Oct",MONTH_11_SHORT:"Nov",MONTH_12_SHORT:"Dec",MONTH_1:"January",MONTH_2:"February",MONTH_3:"March",MONTH_4:"April",MONTH_5:"May",MONTH_6:"June",MONTH_7:"July",MONTH_8:"August",MONTH_9:"September",MONTH_10:"October",MONTH_11:"November",MONTH_12:"December",PREVIOUS:"Previous",NEXT:"Next",PREVIOUS_SHORT:"Prev",NEXT_SHORT:"Next",PREVIOUS_MONTH:"Previous month",NEXT_MONTH:"Next month",FIRST_DAY_OF_WEEK:0,CHOOSE_DATE:"Choose date",CHANGE_DATE:"Change date",CHOSEN_DATE:"chosen date is",DATE_FORMAT:"dd.mm.yyyy",CALENDAR_LABEL:"Calendar"},V={DAY:"Dag",MONTH:"Måned",YEAR:"År",DAY_1_SHORT:"Man",DAY_2_SHORT:"Tir",DAY_3_SHORT:"Ons",DAY_4_SHORT:"Tor",DAY_5_SHORT:"Fre",DAY_6_SHORT:"Lør",DAY_0_SHORT:"Søn",DAY_1:"Mandag",DAY_2:"Tirsdag",DAY_3:"Onsdag",DAY_4:"Torsdag",DAY_5:"Fredag",DAY_6:"Lørdag",DAY_0:"Søndag",MONTH_1_SHORT:"Jan",MONTH_2_SHORT:"Feb",MONTH_3_SHORT:"Mar",MONTH_4_SHORT:"Apr",MONTH_5_SHORT:"Mai",MONTH_6_SHORT:"Jun",MONTH_7_SHORT:"Jul",MONTH_8_SHORT:"Aug",MONTH_9_SHORT:"Sep",MONTH_10_SHORT:"Okt",MONTH_11_SHORT:"Nov",MONTH_12_SHORT:"Des",MONTH_1:"Januar",MONTH_2:"Februar",MONTH_3:"Mars",MONTH_4:"April",MONTH_5:"Mai",MONTH_6:"Juni",MONTH_7:"Juli",MONTH_8:"August",MONTH_9:"September",MONTH_10:"Oktober",MONTH_11:"November",MONTH_12:"Desember",PREVIOUS:"Forrige",NEXT:"Neste",PREVIOUS_SHORT:"Forrige",NEXT_SHORT:"Neste",PREVIOUS_MONTH:"Forrige månad",NEXT_MONTH:"Neste månad",FIRST_DAY_OF_WEEK:1,CHOOSE_DATE:"Velg dato",CHANGE_DATE:"Endre dato",CHOSEN_DATE:"valt dato er",DATE_FORMAT:"dd.mm.åååå",CALENDAR_LABEL:"Kalender"},X={DAY:"Dag",MONTH:"Måned",YEAR:"År",DAY_1_SHORT:"Man",DAY_2_SHORT:"Tir",DAY_3_SHORT:"Ons",DAY_4_SHORT:"Tor",DAY_5_SHORT:"Fre",DAY_6_SHORT:"Lør",DAY_0_SHORT:"Søn",DAY_1:"Mandag",DAY_2:"Tirsdag",DAY_3:"Onsdag",DAY_4:"Torsdag",DAY_5:"Fredag",DAY_6:"Lørdag",DAY_0:"Søndag",MONTH_1_SHORT:"Jan",MONTH_2_SHORT:"Feb",MONTH_3_SHORT:"Mar",MONTH_4_SHORT:"Apr",MONTH_5_SHORT:"Mai",MONTH_6_SHORT:"Jun",MONTH_7_SHORT:"Jul",MONTH_8_SHORT:"Aug",MONTH_9_SHORT:"Sep",MONTH_10_SHORT:"Okt",MONTH_11_SHORT:"Nov",MONTH_12_SHORT:"Des",MONTH_1:"Januar",MONTH_2:"Februar",MONTH_3:"Mars",MONTH_4:"April",MONTH_5:"Mai",MONTH_6:"Juni",MONTH_7:"Juli",MONTH_8:"August",MONTH_9:"September",MONTH_10:"Oktober",MONTH_11:"November",MONTH_12:"Desember",PREVIOUS:"Forrige",NEXT:"Neste",PREVIOUS_SHORT:"Forrige",NEXT_SHORT:"Neste",PREVIOUS_MONTH:"Forrige måned",NEXT_MONTH:"Neste måned",FIRST_DAY_OF_WEEK:1,CHOOSE_DATE:"Velg dato",CHANGE_DATE:"Endre dato",CHOSEN_DATE:"valgt dato er",DATE_FORMAT:"dd.mm.åååå",CALENDAR_LABEL:"Kalender"},c={nb:X,nn:V,en:J},Q=n=>{const e=[];for(let t=1;t<=12;t++){const a=`MONTH_${t}`;e.push({value:t,label:c[n][a]})}return e},G=(n,e)=>{const t=new Date().getFullYear();let a=t-6,i=t+2;if(n){const s=h(n);s&&(a=s.year)}if(e){const s=h(e);s&&(i=s.year)}const r=[];for(let s=a;s<=i;s++)r.push({value:s,label:String(s)});return r},A=({datepickerId:n,month:e,nextMonthHandler:t,nextMonthLabel:a,previousMonthHandler:i,previousMonthLabel:r,year:s,prevMonthButtonElement:l,nextMonthButtonElement:d,monthNumber:p,dropdownCaption:w=!1,locale:Y,onMonthYearChange:m,minDate:x,maxDate:I})=>{const M="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Im0zNjcuMzg0LTQ4MCAzMDEuMzA4IDMwMS4zMDhxMTEuOTIzIDExLjkyMyAxMS42MTUgMjguMDc3LS4zMDggMTYuMTUzLTEyLjIzMSAyOC4wNzZxLTExLjkyMiAxMS45MjMtMjguMDc2IDExLjkyM3QtMjguMDc2LTExLjkyM0wzMDUuMDc4LTQyOC43N3EtMTAuODQ3LTEwLjg0Ni0xNi4wNzctMjQuMzA3LTUuMjMxLTEzLjQ2Mi01LjIzMS0yNi45MjMgMC0xMy40NjEgNS4yMzEtMjYuOTIzIDUuMjMtMTMuNDYxIDE2LjA3Ny0yNC4zMDdsMzA2Ljg0Ni0zMDYuODQ2cTExLjkyMi0xMS45MjMgMjguMzg0LTExLjYxNiAxNi40NjEuMzA4IDI4LjM4NCAxMi4yMzEgMTEuOTIzIDExLjkyMyAxMS45MjMgMjguMDc2IDAgMTYuMTU0LTExLjkyMyAyOC4wNzdMMzY3LjM4NC00ODBaIi8+PC9zdmc+",q=Q(Y),C=G(x,I),L=u=>{const T=parseInt(u.target.value,10);m==null||m(T,s)},j=u=>{const T=parseInt(u.target.value,10);m==null||m(p,T)},_=u=>{u.nativeEvent.__datepickerID=n,u.stopPropagation()},y=u=>{u.stopPropagation()};return o.createElement("div",{className:"ffe-calendar__header"},o.createElement("div",{className:"ffe-calendar__header-inner-wrapper"},o.createElement("button",{className:"ffe-calendar__month-nav ffe-calendar__previous",onClick:i,"aria-label":r,type:"button",ref:l,tabIndex:-1},o.createElement(D,{fileUrl:M,size:"md",className:"ffe-calendar__icon-prev"})),o.createElement("header",{"aria-live":"polite",className:"ffe-calendar__title",id:`${n}-title`},w?o.createElement("div",{className:"ffe-calendar__dropdown-container"},o.createElement("div",{className:"ffe-calendar__dropdown ffe-calendar__month-dropdown"},o.createElement(b,{id:`${n}__month-select`,className:"ffe-calendar__month-select",value:p,onChange:L,"aria-label":`${e} ${s}`,onClick:_,onFocus:y},q.map(u=>o.createElement("option",{key:u.value,value:u.value},u.label)))),o.createElement("div",{className:"ffe-calendar__dropdown ffe-calendar__year-dropdown"},o.createElement(b,{id:`${n}__year-select`,className:"ffe-calendar__year-select",value:s,onChange:j,"aria-label":`${s}`,onClick:_,onFocus:y},C.map(u=>o.createElement("option",{key:u.value,value:u.value},u.label))))):o.createElement("div",{id:`${n}__month-label`,"data-testid":`${n}__month-label`},o.createElement("span",{className:"ffe-calendar__month"},e),o.createElement("span",{className:"ffe-calendar__year"},s))),o.createElement("button",{className:"ffe-calendar__month-nav ffe-calendar__next",onClick:t,"aria-label":a,type:"button",ref:d,tabIndex:-1},o.createElement(D,{fileUrl:M,size:"md",className:"ffe-calendar__icon-next"}))))};A.__docgenInfo={description:"",methods:[],displayName:"Header",props:{datepickerId:{required:!0,tsType:{name:"string"},description:""},month:{required:!0,tsType:{name:"string"},description:""},nextMonthHandler:{required:!0,tsType:{name:"ReactMouseEventHandler",raw:"React.MouseEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},nextMonthLabel:{required:!0,tsType:{name:"string"},description:""},previousMonthHandler:{required:!0,tsType:{name:"ReactMouseEventHandler",raw:"React.MouseEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},previousMonthLabel:{required:!0,tsType:{name:"string"},description:""},year:{required:!0,tsType:{name:"number"},description:""},prevMonthButtonElement:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},nextMonthButtonElement:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},monthNumber:{required:!0,tsType:{name:"number"},description:"Nåværende månedsnummer (1-12)"},dropdownCaption:{required:!1,tsType:{name:"boolean"},description:"Om måned- og år-dropdown skal vises i kalenderen",defaultValue:{value:"false",computed:!1}},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:"Nåværende språkkode"},onMonthYearChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(month: number, year: number) => void",signature:{arguments:[{type:{name:"number"},name:"month"},{type:{name:"number"},name:"year"}],return:{name:"void"}}},description:"Navigasjons-handler når måned/år endres direkte"},minDate:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Tidligste tillatte dato (format: 'dd.mm.yyyy') - brukes kun til å bestemme år-intervall i dropdown"},maxDate:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Seneste tillatte dato (format: 'dd.mm.yyyy') - brukes kun til å bestemme år-intervall i dropdown"}}};const Z=864e5;function ee(n){const e=n.clone();e.date=n.date+4-(n.day||7);const t=e.timestamp;e.month=0,e.date=1;const a=(t-e.timestamp)/Z;return Math.floor(Math.round(a/7)+1)}function te(n){const e=n.clone();return e.date=1,e.day}class E{constructor(e,t="nb"){this.locale=t,this.focusedDate=e?e.clone():N(),this.selectedDate=e&&e.clone(),this.firstDay=c[t].FIRST_DAY_OF_WEEK}get focusedMonth(){return c[this.locale][`MONTH_${this.focusedDate.month+1}`]}get focusedYear(){return this.focusedDate.year}get dayNames(){const e=[];for(let t=this.firstDay;t<this.firstDay+7;t++)e.push({name:c[this.locale][`DAY_${t%7}`],shortName:c[this.locale][`DAY_${t%7}_SHORT`]});return e}get previousName(){return c[this.locale].PREVIOUS_MONTH}get nextName(){return c[this.locale].NEXT_MONTH}previousYear(){this.focusedDate.adjust({period:"Y",offset:-1})}nextYear(){this.focusedDate.adjust({period:"Y",offset:1})}nextMonth(){this.focusedDate.adjust({period:"M",offset:1})}previousMonth(){this.focusedDate.adjust({period:"M",offset:-1})}nextWeek(){this.focusedDate.adjust({period:"D",offset:7})}previousWeek(){this.focusedDate.adjust({period:"D",offset:-7})}nextDay(){this.focusedDate.adjust({period:"D",offset:1})}previousDay(){this.focusedDate.adjust({period:"D",offset:-1})}firstDateOfMonth(){this.focusedDate.date=1}lastDateOfMonth(){this.focusedDate.date=this.focusedDate.daysInMonth}selectFocusedDate(){this.selectedDate=this.focusedDate.clone()}isDateWithinDateRange(e){return!0}selectTimestamp(e){this.focusedDate=S(e),this.selectFocusedDate()}selected(){return this.selectedDate?this.selectedDate.format():""}focused(){return this.focusedDate?this.focusedDate.format():""}selectDateString(e){const t=h(e);t&&(this.selectedDate=t.clone(),this.focusedDate=t.clone())}get visibleDates(){const e=[],t=(te(this.focusedDate)-this.firstDay+7)%7,a=this.focusedDate.clone();a.date=1-t;const i=Math.ceil((t+this.focusedDate.daysInMonth)/7);for(let r=0;r<i;r++){const s={number:ee(a),dates:[]};e.push(s);for(let l=0;l<7;l++){const d={dayInMonth:a.date,timestamp:a.timestamp,isNonClickableDate:a.month!==this.focusedDate.month,isToday:a.equal(N()),isFocus:a.equal(this.focusedDate),isSelected:!!this.selectedDate&&a.equal(this.selectedDate),isEnabled:!0};s.dates.push(d),a.adjust({period:"D",offset:1})}}return e}}class ae extends g.Component{constructor(e){super(e),this.clickableDateRef=o.createRef(),this.prevMonthButtonElementRef=o.createRef(),this.nextMonthButtonElementRef=o.createRef(),this.focusTrap=t=>{var i,r,s,l,d,p;const a=document.activeElement;t.key==="Tab"&&(t.preventDefault(),t.shiftKey?(a===this.clickableDateRef.current&&((i=this.nextMonthButtonElementRef.current)==null||i.focus(),this.setState({isFocusingHeader:!0})),a===this.nextMonthButtonElementRef.current&&((r=this.prevMonthButtonElementRef.current)==null||r.focus()),a===this.prevMonthButtonElementRef.current&&((s=this.clickableDateRef.current)==null||s.focus(),this.setState({isFocusingHeader:!1}),this.forceUpdate())):(a===this.clickableDateRef.current&&((l=this.prevMonthButtonElementRef.current)==null||l.focus(),this.setState({isFocusingHeader:!0})),a===this.prevMonthButtonElementRef.current&&((d=this.nextMonthButtonElementRef.current)==null||d.focus()),a===this.nextMonthButtonElementRef.current&&((p=this.clickableDateRef.current)==null||p.focus(),this.setState({isFocusingHeader:!1}),this.forceUpdate())))},this.state={calendar:new E(h(e==null?void 0:e.selectedDate),e.locale),isFocusingHeader:!1},this.datepickerId=`ffe-calendar-${B()}`,this.keyDown=this.keyDown.bind(this),this.mouseClick=this.mouseClick.bind(this),this.nextMonth=this.nextMonth.bind(this),this.previousMonth=this.previousMonth.bind(this),this.navigateToMonthYear=this.navigateToMonthYear.bind(this),this.renderDate=this.renderDate.bind(this),this.renderWeek=this.renderWeek.bind(this),this.renderDay=this.renderDay.bind(this)}componentDidUpdate(e){e.selectedDate!==this.props.selectedDate&&this.setState({calendar:new E(h(this.props.selectedDate),this.props.locale)},this.forceUpdate)}shouldComponentUpdate(e){return e.selectedDate!==this.props.selectedDate}keyDown(e){var i,r;const t=this.state.calendar;switch(["PageUp","PageDown","End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(e.key)&&e.preventDefault(),e.key){case"Enter":t.isDateWithinDateRange(t.focusedDate)&&(t.selectFocusedDate(),this.props.onDatePicked(t.selected())),e.preventDefault();break;case"Escape":(r=(i=this.props).escKeyHandler)==null||r.call(i,e);break;case"Tab":break;case"PageUp":e.altKey?t.previousYear():t.previousMonth();break;case"PageDown":e.altKey?t.nextYear():t.nextMonth();break;case"End":t.lastDateOfMonth();break;case"Home":t.firstDateOfMonth();break;case"ArrowLeft":t.previousDay();break;case"ArrowUp":t.previousWeek();break;case"ArrowRight":t.nextDay();break;case"ArrowDown":t.nextWeek();break;default:return}this.forceUpdate()}mouseClick(e){const t=S(e.timestamp);this.state.calendar.isDateWithinDateRange(t)&&(this.state.calendar.selectTimestamp(e.timestamp),this.props.onDatePicked(this.state.calendar.selected()))}nextMonth(e){e.preventDefault(),this.state.calendar.nextMonth(),this.forceUpdate()}previousMonth(e){e.preventDefault(),this.state.calendar.previousMonth(),this.forceUpdate()}renderDate(e,t){const{calendar:a}=this.state;return e.isNonClickableDate?o.createElement(k,{key:e.dayInMonth,date:{timestamp:e.timestamp}}):o.createElement(v,{calendarButtonState:e,month:a.focusedMonth,year:a.focusedYear,headers:`header__${this.datepickerId}__${t}`,key:e.timestamp,onClick:this.mouseClick,locale:this.props.locale,dateButtonRef:e.isFocus?this.clickableDateRef:void 0,isFocusingHeader:this.state.isFocusingHeader,focusOnMount:this.props.focusOnMount})}renderWeek(e){return o.createElement("tr",{key:`week-${e.number}`,role:"presentation"},e.dates.map(this.renderDate))}renderDay(e,t){return o.createElement("th",{"aria-label":e.name,className:"ffe-calendar__weekday",id:`header__${this.datepickerId}__${t}`,key:e.name},o.createElement("span",{title:e.name},e.shortName))}navigateToMonthYear(e,t){const{calendar:a}=this.state;let i=a.focusedDate.month+1,r=a.focusedYear;const s=(t-r)*12+(e-i);if(s<0)for(let l=0;l>s;l--)a.previousMonth();else if(s>0)for(let l=0;l<s;l++)a.nextMonth();this.forceUpdate()}render(){const{calendar:e}=this.state;return o.createElement("div",{role:"dialog","aria-modal":!0,"aria-labelledby":`${this.datepickerId}-title`,className:"ffe-default-mode"},o.createElement("div",{className:this.props.calendarClassName||"ffe-calendar",role:"application",onKeyDown:this.focusTrap},o.createElement(A,{datepickerId:this.datepickerId,month:e.focusedMonth,nextMonthHandler:this.nextMonth,nextMonthLabel:e.nextName,previousMonthHandler:this.previousMonth,previousMonthLabel:e.previousName,year:e.focusedYear,prevMonthButtonElement:this.prevMonthButtonElementRef,nextMonthButtonElement:this.nextMonthButtonElementRef,monthNumber:e.focusedDate.month+1,locale:this.props.locale,dropdownCaption:this.props.dropdownCaption,onMonthYearChange:(t,a)=>this.navigateToMonthYear(t,a),minDate:this.props.minDate,maxDate:this.props.maxDate}),o.createElement("table",{className:"ffe-calendar__grid",onKeyDown:this.keyDown,role:"presentation"},o.createElement("thead",null,o.createElement("tr",null,e.dayNames.map(this.renderDay))),o.createElement("tbody",null,e.visibleDates.map(this.renderWeek)))))}}ae.__docgenInfo={description:"",methods:[{name:"keyDown",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLTableElement>",elements:[{name:"HTMLTableElement"}],alias:"React.KeyboardEvent"}}],returns:null},{name:"mouseClick",docblock:null,modifiers:[],params:[{name:"date",optional:!1,type:{name:"signature",type:"object",raw:`{
    dayInMonth: number;
    timestamp: number;
    isNonClickableDate: boolean;
    isToday: boolean;
    isFocus: boolean;
    isSelected: boolean;
    isEnabled: boolean;
}`,signature:{properties:[{key:"dayInMonth",value:{name:"number",required:!0}},{key:"timestamp",value:{name:"number",required:!0}},{key:"isNonClickableDate",value:{name:"boolean",required:!0}},{key:"isToday",value:{name:"boolean",required:!0}},{key:"isFocus",value:{name:"boolean",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"isEnabled",value:{name:"boolean",required:!0}}]},alias:"CalendarButtonState"}}],returns:null},{name:"nextMonth",docblock:null,modifiers:[],params:[{name:"evt",optional:!1,type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}],alias:"React.MouseEvent"}}],returns:null},{name:"previousMonth",docblock:null,modifiers:[],params:[{name:"evt",optional:!1,type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}],alias:"React.MouseEvent"}}],returns:null},{name:"renderDate",docblock:null,modifiers:[],params:[{name:"calendarButtonState",optional:!1,type:{name:"signature",type:"object",raw:`{
    dayInMonth: number;
    timestamp: number;
    isNonClickableDate: boolean;
    isToday: boolean;
    isFocus: boolean;
    isSelected: boolean;
    isEnabled: boolean;
}`,signature:{properties:[{key:"dayInMonth",value:{name:"number",required:!0}},{key:"timestamp",value:{name:"number",required:!0}},{key:"isNonClickableDate",value:{name:"boolean",required:!0}},{key:"isToday",value:{name:"boolean",required:!0}},{key:"isFocus",value:{name:"boolean",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"isEnabled",value:{name:"boolean",required:!0}}]},alias:"CalendarButtonState"}},{name:"index",optional:!1,type:{name:"number"}}],returns:null},{name:"renderWeek",docblock:null,modifiers:[],params:[{name:"week",optional:!1,type:{name:"signature",type:"object",raw:"{ dates: CalendarButtonState[]; number: number }",signature:{properties:[{key:"dates",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    dayInMonth: number;
    timestamp: number;
    isNonClickableDate: boolean;
    isToday: boolean;
    isFocus: boolean;
    isSelected: boolean;
    isEnabled: boolean;
}`,signature:{properties:[{key:"dayInMonth",value:{name:"number",required:!0}},{key:"timestamp",value:{name:"number",required:!0}},{key:"isNonClickableDate",value:{name:"boolean",required:!0}},{key:"isToday",value:{name:"boolean",required:!0}},{key:"isFocus",value:{name:"boolean",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"isEnabled",value:{name:"boolean",required:!0}}]}}],raw:"CalendarButtonState[]",required:!0}},{key:"number",value:{name:"number",required:!0}}]}}}],returns:null},{name:"renderDay",docblock:null,modifiers:[],params:[{name:"day",optional:!1,type:{name:"signature",type:"object",raw:"{ name: string; shortName: string }",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"shortName",value:{name:"string",required:!0}}]}}},{name:"index",optional:!1,type:{name:"number"}}],returns:null},{name:"focusTrap",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLDivElement>",elements:[{name:"HTMLDivElement"}],alias:"React.KeyboardEvent"}}],returns:null},{name:"navigateToMonthYear",docblock:"Navigate to a specific month and year",modifiers:[],params:[{name:"month",optional:!1,type:{name:"number"}},{name:"year",optional:!1,type:{name:"number"}}],returns:null,description:"Navigate to a specific month and year"}],displayName:"Calendar",props:{calendarClassName:{required:!1,tsType:{name:"string"},description:""},escKeyHandler:{required:!1,tsType:{name:"ReactKeyboardEventHandler",raw:"React.KeyboardEventHandler<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:""},onDatePicked:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: string) => void",signature:{arguments:[{type:{name:"string"},name:"date"}],return:{name:"void"}}},description:""},selectedDate:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},focusOnMount:{required:!1,tsType:{name:"boolean"},description:""},dropdownCaption:{required:!1,tsType:{name:"boolean"},description:"Om måned- og år-dropdown skal vises i kalenderen"},minDate:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Tidligste tillatte dato (format: 'dd.mm.yyyy') - brukes kun til å bestemme år-intervall i dropdown"},maxDate:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Seneste tillatte dato (format: 'dd.mm.yyyy') - brukes kun til å bestemme år-intervall i dropdown"}}};export{ae as C,ue as a,le as b,h as g,c as i,O as p,R as v};
