import{g as Z,R as o,r as N}from"./index-RYns6xqu.js";import{a as X,b as $}from"./format-BVbCZGIj.js";import{c as C}from"./index-Dejnh_W_.js";import{I as A}from"./Icon-Dor7S2yd.js";import{S as J,l as ee}from"./Spinner-DE_tv5qo.js";import{I as te}from"./InputGroup-DFg7WU2E.js";var x={exports:{}};(function(i){var e=["render","componentWillReceiveProps","componentDidMount","componentDidUpdate","componentDidCatch","shouldComponentUpdate","componentWillUnmount","componentWillUpdate","forceUpdate","componentWillMount"],t=function(s){for(var r=arguments.length,u=Array(r>1?r-1:0),a=1;a<r;a++)u[a-1]=arguments[a];return(u.length&&u||Object.getOwnPropertyNames(s.constructor.prototype)).forEach(function(l){var c=s[l];l!=="constructor"&&typeof c=="function"&&e.indexOf(l)===-1&&(s[l]=c.bind(s))}),s};i.exports?i.exports=t:window.reactAutoBind=t})(x);var ne=x.exports;const H=Z(ne);var L=function(){return L=Object.assign||function(i){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},L.apply(this,arguments)},se=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t},v=o.forwardRef(function(i,e){var t=i.children,n=i.hiddenLabel,s=i.inline,r=s===void 0?!0:s,u=i.noMargins,a=i.id,l=i.onColoredBg,c=i.checked,d=se(i,["children","hiddenLabel","inline","noMargins","id","onColoredBg","checked"]),h=N.useId(),g=a??h,m={className:C({"ffe-checkbox":!0,"ffe-checkbox--inline":r,"ffe-checkbox--no-margin":u,"ffe-checkbox--hidden-label":n,"ffe-checkbox--on-colored-bg":l}),htmlFor:g};return o.createElement(o.Fragment,null,o.createElement("input",L({ref:e,className:"ffe-hidden-checkbox",id:g,type:"checkbox",checked:c},d)),typeof t=="function"?t(m):o.createElement("label",L({},m),o.createElement("span",{className:C("ffe-checkbox__content",{"ffe-screenreader-only":n})},t)))});v.__docgenInfo={description:"",methods:[],displayName:"Checkbox"};const ie={ACCOUNTSLIST_OPEN:"Show account list",ACCOUNTSLIST_CLOSE:"Close account list",RESET_SEARCH:"Reset",DROPDOWN_MULTISELECT_DONE:"Done",NO_ACCOUNTS_SELECTED:"No accounts selected",NO_ACCOUNTS_FOUND:"No accounts",ONE_ACCOUNT_SELECTED:"1 account selected",MULTIPLE_ACCOUNTS_SELECTED:"accounts selected",SELECT_ALL:"Select all"},oe={ACCOUNTSLIST_OPEN:"Vis kontoliste",ACCOUNTSLIST_CLOSE:"Skjul kontoliste",RESET_SEARCH:"Nullstill",DROPDOWN_MULTISELECT_DONE:"Ferdig",NO_ACCOUNTS_SELECTED:"Ingen kontoar vald",NO_ACCOUNTS_FOUND:"Ingen kontoar",ONE_ACCOUNT_SELECTED:"1 konto vald",MULTIPLE_ACCOUNTS_SELECTED:"kontoar vald",SELECT_ALL:"Velj alle"},re={ACCOUNTSLIST_OPEN:"Vis kontoliste",ACCOUNTSLIST_CLOSE:"Skjul kontoliste",RESET_SEARCH:"Nullstill",DROPDOWN_MULTISELECT_DONE:"Ferdig",NO_ACCOUNTS_SELECTED:"Ingen kontoer valgt",NO_ACCOUNTS_FOUND:"Ingen kontoer",ONE_ACCOUNT_SELECTED:"1 konto valgt",MULTIPLE_ACCOUNTS_SELECTED:"kontoer valgt",SELECT_ALL:"Velg alle"},p={nb:re,nn:oe,en:ie},ae="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjAiPjxwYXRoIGQ9Ik00ODAtNDQyLjg0NyAzMDkuMDc2LTI3MS45MjRxLTguMzA3IDguMzA4LTE3Ljg4NCA4LTkuNTc2LS4zMDctMTguMjY4LTktOC42OTMtOC42OTItOC42OTMtMTguNTc2dDguNjkzLTE4LjU3Nkw0NDIuODQ3LTQ4MCAyNzEuOTI0LTY1MC45MjRxLTguMzA4LTguMzA3LTgtMTguMzg0LjMwNy0xMC4wNzYgOS0xOC43NjggOC42OTItOC42OTMgMTguNTc2LTguNjkzdDE4LjU3NiA4LjY5M0w0ODAtNTE3LjE1M2wxNzAuOTI0LTE3MC45MjNxOC4zMDctOC4zMDggMTguMzg0LTguNSAxMC4wNzYtLjE5MyAxOC43NjggOC41IDguNjkzIDguNjkyIDguNjkzIDE4LjU3NnQtOC42OTMgMTguNTc2TDUxNy4xNTMtNDgwbDE3MC45MjMgMTcwLjkyNHE4LjMwOCA4LjMwNyA4LjUgMTcuODg0LjE5MyA5LjU3Ni04LjUgMTguMjY4LTguNjkyIDguNjkzLTE4LjU3NiA4LjY5M3QtMTguNTc2LTguNjkzTDQ4MC00NDIuODQ3WiIvPjwvc3ZnPg==",ue="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik00ODAtMzczLjUzOXEtNy4yMzEgMC0xMy40NjEtMi4zMDgtNi4yMzEtMi4zMDgtMTEuODQ2LTcuOTIzTDI3NC45MjQtNTYzLjUzOXEtOC4zMDgtOC4zMDctOC41LTIwLjg4NC0uMTkzLTEyLjU3NyA4LjUtMjEuMjY5IDguNjkyLTguNjkyIDIxLjA3Ni04LjY5MnQyMS4wNzYgOC42OTJMNDgwLTQ0Mi43NjhsMTYyLjkyNC0xNjIuOTI0cTguMzA3LTguMzA3IDIwLjg4NC04LjUgMTIuNTc2LS4xOTIgMjEuMjY4IDguNSA4LjY5MyA4LjY5MiA4LjY5MyAyMS4wNzcgMCAxMi4zODQtOC42OTMgMjEuMDc2TDUwNS4zMDctMzgzLjc3cS01LjYxNSA1LjYxNS0xMS44NDYgNy45MjMtNi4yMyAyLjMwOC0xMy40NjEgMi4zMDhaIi8+PC9zdmc+",j=i=>{const{onKeyDown:e,id:t,placeholder:n,isSuggestionsShowing:s,ariaInvalid:r=!1,onClick:u,inputFieldRef:a=()=>{},highlightedIndex:l,suggestionListId:c,name:d,readOnly:h=!1,locale:g,value:m,onBlur:f=()=>{},onFocus:S=()=>{},onChange:T,onReset:Y}=i,Q=({target:{value:y}})=>T(y),W=y=>{y.preventDefault(),Y()},V=y=>{y.preventDefault(),s?f():(y.currentTarget.parentNode.firstElementChild.focus(),S())},G=!h&&m.length>0;return o.createElement("div",{role:"combobox","aria-expanded":s,onFocus:S,onBlur:f,"aria-activedescendant":l>-1?`suggestion-item-${l}`:void 0,"aria-owns":c},o.createElement("input",{className:"ffe-input-field ffe-base-selector__input-field",onKeyDown:e,autoComplete:"off",value:m,id:t,placeholder:n,ref:a,"aria-invalid":r,"aria-autocomplete":"list",name:d,onClick:u,onChange:Q,readOnly:h}),G&&o.createElement("button",{className:"ffe-base-selector__reset-button",onMouseDown:W,tabIndex:-1,type:"button","aria-label":p[g].RESET_SEARCH},o.createElement(A,{fileUrl:ae,size:"sm",weight:300,className:"ffe-base-selector__reset-button-icon"})),o.createElement("button",{className:"ffe-base-selector__expand-button",onMouseDown:V,tabIndex:-1,type:"button","aria-label":s?p[g].ACCOUNTSLIST_CLOSE:p[g].ACCOUNTSLIST_OPEN},o.createElement(A,{fileUrl:ue,size:"md",weight:300,className:C("ffe-base-selector__expand-button-icon",{"ffe-base-selector__expand-button-icon--invalid":r})})))};j.__docgenInfo={description:"",methods:[],displayName:"InputField",props:{onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"newValue"}],return:{name:"void"}}},description:""},onKeyDown:{required:!0,tsType:{name:"ReactKeyboardEventHandler",raw:"React.KeyboardEventHandler<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""},value:{required:!0,tsType:{name:"string"},description:""},onReset:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isSuggestionsShowing:{required:!0,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},onBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFocus:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClick:{required:!0,tsType:{name:"ReactMouseEventHandler",raw:"React.MouseEventHandler<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""},ariaInvalid:{required:!0,tsType:{name:"boolean"},description:""},inputFieldRef:{required:!0,tsType:{name:"ReactRef",raw:"React.Ref<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""},highlightedIndex:{required:!0,tsType:{name:"number"},description:""},suggestionListId:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:""}}};function q(i){const{suggestion:e,id:t,isHighlighted:n,render:s,onSelect:r,refHighlightedSuggestion:u}=i;return o.createElement("li",{ref:a=>{a&&n&&u(a)},role:"option","aria-selected":n,id:t,onMouseDown:a=>{a.preventDefault(),r(e)},tabIndex:-1},s(e))}q.__docgenInfo={description:"",methods:[],displayName:"SuggestionItem",props:{suggestion:{required:!0,tsType:{name:"Suggestion"},description:""},id:{required:!0,tsType:{name:"string"},description:""},isHighlighted:{required:!0,tsType:{name:"boolean"},description:""},render:{required:!0,tsType:{name:"signature",type:"function",raw:"(suggestion: Suggestion) => React.ReactNode",signature:{arguments:[{type:{name:"Suggestion"},name:"suggestion"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(suggestion: Suggestion) => void",signature:{arguments:[{type:{name:"Suggestion"},name:"suggestion"}],return:{name:"void"}}},description:""},refHighlightedSuggestion:{required:!0,tsType:{name:"ReactRefCallback",raw:"React.RefCallback<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},description:""}}};function U(i){const{suggestions:e,highlightedIndex:t,renderSuggestion:n,renderNoMatches:s,id:r,isLoading:u=!1,refHighlightedSuggestion:a,onSelect:l}=i;return u?o.createElement(J,{large:!0}):o.createElement("ul",{className:"ffe-base-selector__suggestion-container-list",role:"listbox",id:r},e.length>0?e.map((c,d)=>o.createElement(q,{key:d,suggestion:c,id:`suggestion-item-${d}`,isHighlighted:d===t,render:n,refHighlightedSuggestion:a,onSelect:l})):o.createElement("li",null,s()))}U.__docgenInfo={description:"",methods:[],displayName:"SuggestionList",props:{suggestions:{required:!0,tsType:{name:"Array",elements:[{name:"Suggestion"}],raw:"Suggestion[]"},description:""},highlightedIndex:{required:!0,tsType:{name:"number"},description:""},renderSuggestion:{required:!0,tsType:{name:"signature",type:"function",raw:"(suggestion: Suggestion) => React.ReactNode",signature:{arguments:[{type:{name:"Suggestion"},name:"suggestion"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},renderNoMatches:{required:!0,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},id:{required:!1,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},refHighlightedSuggestion:{required:!0,tsType:{name:"ReactRefCallback",raw:"React.RefCallback<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(suggestion: Suggestion) => void",signature:{arguments:[{type:{name:"Suggestion"},name:"suggestion"}],return:{name:"void"}}},description:""}}};class P extends o.Component{constructor(e){super(e),this.refHighlightedSuggestion=this.refHighlightedSuggestion.bind(this)}refHighlightedSuggestion(e){this.highlightedSuggestionHeight=e==null?void 0:e.clientHeight}_setScrollPos(e){var t;(t=this.scrollbars)==null||t.scrollTop(e)}setScrollPosStart(){this._setScrollPos(0)}setScrollPosEnd(){this.scrollbars&&this._setScrollPos(this.scrollbars.getScrollHeight())}setScrollPosNext(){const{highlightedIndex:e}=this.props;typeof this.highlightedSuggestionHeight=="number"&&this._setScrollPos(e*this.highlightedSuggestionHeight)}setScrollPosPrevious(){const{highlightedIndex:e}=this.props;typeof this.highlightedSuggestionHeight=="number"&&this._setScrollPos(e*this.highlightedSuggestionHeight-this.highlightedSuggestionHeight)}render(){const{heightMax:e=300,autoHeight:t=!0,suggestions:n,renderSuggestion:s,renderNoMatches:r,highlightedIndex:u,onSelect:a,id:l}=this.props;return o.createElement("div",{className:"ffe-base-selector__suggestion-container"},o.createElement(ee.Scrollbars,{autoHeight:t,autoHeightMax:e,ref:c=>{c&&(this.scrollbars=c)}},o.createElement(U,{refHighlightedSuggestion:this.refHighlightedSuggestion,suggestions:n,renderSuggestion:s,renderNoMatches:r,highlightedIndex:u,onSelect:a,id:l})))}}P.__docgenInfo={description:"",methods:[{name:"refHighlightedSuggestion",docblock:null,modifiers:[],params:[{name:"suggestionEl",optional:!1,type:{name:"union",raw:"HTMLLIElement | null",elements:[{name:"HTMLLIElement"},{name:"null"}]}}],returns:null},{name:"_setScrollPos",docblock:null,modifiers:[],params:[{name:"pos",optional:!1,type:{name:"number"}}],returns:null},{name:"setScrollPosStart",docblock:null,modifiers:[],params:[],returns:null},{name:"setScrollPosEnd",docblock:null,modifiers:[],params:[],returns:null},{name:"setScrollPosNext",docblock:null,modifiers:[],params:[],returns:null},{name:"setScrollPosPrevious",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SuggestionListContainer",props:{highlightedIndex:{required:!0,tsType:{name:"number"},description:""},heightMax:{required:!1,tsType:{name:"number"},description:""},autoHeight:{required:!1,tsType:{name:"boolean"},description:""},suggestions:{required:!0,tsType:{name:"Array",elements:[{name:"Suggestion"}],raw:"Suggestion[]"},description:""},renderSuggestion:{required:!0,tsType:{name:"signature",type:"function",raw:"(suggestion: Suggestion) => React.ReactNode",signature:{arguments:[{type:{name:"Suggestion"},name:"suggestion"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},renderNoMatches:{required:!0,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(suggestion: Suggestion) => void",signature:{arguments:[{type:{name:"Suggestion"},name:"suggestion"}],return:{name:"void"}}},description:""},id:{required:!0,tsType:{name:"string"},description:""}}};class z extends N.Component{constructor(e){super(e),H(this),this.state={showSuggestions:!1,highlightedSuggestionIndex:-1,suggestionListId:"suggestion-list"}}_onSuggestionListChange(){this.props.onSuggestionListChange&&setTimeout(()=>{var t,n;const e=this.getSuggestionListHeight();typeof e=="number"&&((n=(t=this.props).onSuggestionListChange)==null||n.call(t,e))})}getSuggestionListHeight(){var e;return this.suggestionList?(e=this.suggestionList.scrollbars)==null?void 0:e.getClientHeight():0}setFocus(){var e;(e=this.input)==null||e.focus()}getInputHeight(){return this.input?this.input.getBoundingClientRect().height:0}onInputChange(e){e!==this.props.value&&this.setState({showSuggestions:!0,highlightedSuggestionIndex:-1},()=>{this.props.onChange&&this.props.onChange(e),this._onSuggestionListChange()})}onFocus(){const{shouldShowSuggestionsOnFocus:e=!0,onFocus:t}=this.props;this.showOrHideSuggestions(e,t)}onBlur(){this.showOrHideSuggestions(!1,this.props.onBlur)}onClick(){const{onClick:e}=this.props;this.showOrHideSuggestions(!0,e)}onInputReset(){const e=!this.props.shouldHideSuggestionsOnReset;this.showOrHideSuggestions(e,this.props.onReset),setTimeout(this.setFocus)}showOrHideSuggestions(e,t=()=>{}){const n=e?{showSuggestions:e}:{showSuggestions:!1,highlightedSuggestionIndex:-1};this.setState(s=>({...s,...n}),t),this._onSuggestionListChange()}setNextHighlighted(){var s,r;const{highlightedSuggestionIndex:e}=this.state,{suggestions:t}=this.props,n=e===t.length-1?0:e+1;if(this.setState({highlightedSuggestionIndex:n}),n===0){(s=this.suggestionList)==null||s.setScrollPosStart();return}(r=this.suggestionList)==null||r.setScrollPosNext()}setPreviousHighlighted(){var s,r;const{highlightedSuggestionIndex:e}=this.state,{suggestions:t}=this.props,n=e===0?t.length-1:e-1;if(this.setState({highlightedSuggestionIndex:n}),n===t.length-1){(s=this.suggestionList)==null||s.setScrollPosEnd();return}(r=this.suggestionList)==null||r.setScrollPosPrevious()}setFirstHighlighted(){var e;this.setState({highlightedSuggestionIndex:0}),(e=this.suggestionList)==null||e.setScrollPosStart()}setLastHighlighted(){var e;this.setState({highlightedSuggestionIndex:this.props.suggestions.length-1}),(e=this.suggestionList)==null||e.setScrollPosEnd()}onInputKeyDown(e){const{showSuggestions:t,highlightedSuggestionIndex:n}=this.state,{shouldSelectHighlightedOnTab:s,suggestions:r,onSuggestionSelect:u}=this.props,{key:a,altKey:l}=e;switch(a){case"ArrowDown":if(l&&!t){this.showOrHideSuggestions(!0);break}t&&(this.setNextHighlighted(),e.preventDefault());break;case"ArrowUp":if(l&&t){this.showOrHideSuggestions(!1);break}t&&(this.setPreviousHighlighted(),e.preventDefault());break;case"Escape":this.onInputReset();break;case"Home":t&&r.length!==0&&(this.setFirstHighlighted(),e.preventDefault());break;case"End":t&&r.length!==0&&(this.setLastHighlighted(),e.preventDefault());break;case"Enter":t&&e.preventDefault(),u(r[n]);break;case"Tab":t&&s&&u(r[n])}}render(){const{value:e,placeholder:t="",suggestionsHeightMax:n,ariaInvalid:s=!1,id:r,name:u,suggestions:a,onSuggestionSelect:l,readOnly:c,locale:d,renderSuggestion:h,renderNoMatches:g}=this.props,{showSuggestions:m,highlightedSuggestionIndex:f,suggestionListId:S}=this.state;return o.createElement("div",{className:"ffe-base-selector ffe-input-group ffe-input-group--no-extra-margin"},o.createElement(j,{inputFieldRef:T=>{this.input=T},value:e,onChange:this.onInputChange,onReset:this.onInputReset,onKeyDown:this.onInputKeyDown,isSuggestionsShowing:m,placeholder:t,onBlur:this.onBlur,onFocus:this.onFocus,onClick:this.onClick,highlightedIndex:f,suggestionListId:S,ariaInvalid:s,id:r,name:u,readOnly:c,locale:d}),m&&o.createElement(P,{id:S,ref:T=>{this.suggestionList=T},highlightedIndex:f,suggestions:a,heightMax:n,onSelect:l,renderSuggestion:h,renderNoMatches:g??(()=>null)}))}}z.__docgenInfo={description:"",methods:[{name:"_onSuggestionListChange",docblock:null,modifiers:[],params:[],returns:null},{name:"getSuggestionListHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"setFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"getInputHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"onInputChange",docblock:null,modifiers:[],params:[{name:"val",optional:!1,type:{name:"string"}}],returns:null},{name:"onFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"onBlur",docblock:null,modifiers:[],params:[],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onInputReset",docblock:null,modifiers:[],params:[],returns:null},{name:"showOrHideSuggestions",docblock:null,modifiers:[],params:[{name:"show",optional:!1,type:{name:"boolean"}},{name:"cb",optional:!0,type:null}],returns:null},{name:"setNextHighlighted",docblock:null,modifiers:[],params:[],returns:null},{name:"setPreviousHighlighted",docblock:null,modifiers:[],params:[],returns:null},{name:"setFirstHighlighted",docblock:null,modifiers:[],params:[],returns:null},{name:"setLastHighlighted",docblock:null,modifiers:[],params:[],returns:null},{name:"onInputKeyDown",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent",alias:"React.KeyboardEvent"}}],returns:null}],displayName:"BaseSelector",props:{suggestions:{required:!0,tsType:{name:"Array",elements:[{name:"Suggestion"}],raw:"Suggestion[]"},description:""},renderSuggestion:{required:!0,tsType:{name:"signature",type:"function",raw:"(suggestion: Suggestion) => React.ReactNode",signature:{arguments:[{type:{name:"Suggestion"},name:"suggestion"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},value:{required:!0,tsType:{name:"string"},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:""},shouldSelectHighlightedOnTab:{required:!0,tsType:{name:"boolean"},description:""},shouldHideSuggestionsOnReset:{required:!0,tsType:{name:"boolean"},description:""},shouldShowSuggestionsOnFocus:{required:!1,tsType:{name:"boolean"},description:""},onSuggestionSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(suggestion: Suggestion) => void",signature:{arguments:[{type:{name:"Suggestion"},name:"suggestion"}],return:{name:"void"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onReset:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSuggestionListChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(height: number) => void",signature:{arguments:[{type:{name:"number"},name:"height"}],return:{name:"void"}}},description:""},renderNoMatches:{required:!1,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},ariaInvalid:{required:!1,tsType:{name:"boolean"},description:""},suggestionsHeightMax:{required:!1,tsType:{name:"number"},description:""},id:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};const B=({value:i,locale:e})=>o.createElement("div",{className:"ffe-account-suggestion-multi__nomatches"},o.createElement("span",null,i||p[e].NO_ACCOUNTS_FOUND));B.__docgenInfo={description:"",methods:[],displayName:"AccountNoMatch",props:{value:{required:!1,tsType:{name:"string"},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:""}}};function F({account:i,locale:e,selected:t=!1}){const{accountNumber:n,balance:s,name:r,currencyCode:u}=i,a=s!==void 0;return o.createElement("div",{className:"ffe-account-suggestion-multi"},o.createElement(v,{checked:t,name:"checkbox-label",inline:!1,tabIndex:-1,disabled:!0}),o.createElement("div",{className:"ffe-account-suggestion-multi__content-wrapper"},o.createElement("span",{className:"ffe-account-suggestion-multi__name"},r),o.createElement("div",{className:"ffe-account-suggestion-multi__details"},o.createElement("span",{className:"ffe-account-suggestion-multi__number"},X(n)),a&&o.createElement("span",{className:"ffe-account-suggestion-multi__balance"},$(s,e,u)))))}F.__docgenInfo={description:"",methods:[],displayName:"AccountSuggestionMulti",props:{account:{required:!0,tsType:{name:"Account"},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:""},selected:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const K=({onDone:i,renderSelectionStatus:e,labelDoneButton:t,style:n})=>{const s=r=>{(r.key==="Tab"&&!r.shiftKey||r.key==="Enter")&&i()};return o.createElement("div",{className:"ffe-account-selector-multi__dropdown-statusbar",style:n},o.createElement("div",{className:"ffe-account-selector-multi__selection-status"},e()),o.createElement("button",{type:"button",className:"ffe-button ffe-button--primary",tabIndex:0,onMouseDown:i,onKeyDown:s},t))};K.__docgenInfo={description:"",methods:[],displayName:"SuggestionListStatusBar",props:{onDone:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},renderSelectionStatus:{required:!0,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},labelDoneButton:{required:!0,tsType:{name:"string"},description:""},style:{required:!0,tsType:{name:"ReactComponentPropsWithoutRef['style']",raw:"React.ComponentPropsWithoutRef<'div'>['style']"},description:""}}};const w=new RegExp(/[\s.]/g);function O(i=""){const e=i.toLowerCase(),t=i.replace(w,"");return n=>n.name.toLowerCase().includes(e)?!0:!!String(n.accountNumber).replace(w,"").includes(t)}const I={id:"all-accounts",accountNumber:""},R=i=>(i==null?void 0:i.id)==="all-accounts",le=(i,e)=>o.createElement("div",{className:"ffe-account-suggestion-multi ffe-account-suggestion-multi__select-all"},o.createElement(v,{checked:i,name:"ffe-account-suggestion-multi__select-all-label",inline:!1,tabIndex:-1,disabled:!0,hiddenLabel:!0},p[e].SELECT_ALL),o.createElement("div",{className:"ffe-account-suggestion-multi__content-wrapper"},o.createElement("span",{className:"ffe-account-suggestion-multi__name"},p[e].SELECT_ALL)));class M extends o.Component{constructor(e){super(e),H(this),this.state={suggestionListHeight:0}}filterSuggestions(e){const{accounts:t=[],showSelectAllOption:n}=this.props;return n&&!e?[I,...t.filter(O(e))]:t.filter(O(e))}onSuggestionSelect(e){const{onAccountSelected:t,selectedAccounts:n=[],accounts:s}=this.props;if(e){if(!R(e))t(e);else if(e.id===I.id){const r=n.length===(s==null?void 0:s.length);this.props.onSelectAll&&this.props.onSelectAll(!r)}}}renderSuggestion(e){const{locale:t,selectedAccounts:n=[],accounts:s}=this.props,r=n.filter(u=>u.accountNumber===e.accountNumber);return R(e)?le(n.length===(s==null?void 0:s.length),t):o.createElement(F,{account:e,locale:t,selected:r.length>0})}onBlur(){var e;this.shouldShowSuggestions||this.props.onBlur(),(e=this.baseRef)==null||e.showOrHideSuggestions(!!this.shouldShowSuggestions),this.shouldShowSuggestions=!1}onDone(){var e;(e=this.baseRef)==null||e.showOrHideSuggestions(!1),this.props.onBlur()}renderSuggestionDetails(e=0){if(this.baseRef){let t;const{selectedAccounts:n=[],isLoading:s=!1}=this.props;n.length===0?t=p[this.props.locale].NO_ACCOUNTS_SELECTED:n.length===1?t=p[this.props.locale].ONE_ACCOUNT_SELECTED:t=`${n.length} ${p[this.props.locale].MULTIPLE_ACCOUNTS_SELECTED}`;const r=e+this.baseRef.getInputHeight();return!s&&o.createElement(K,{renderSelectionStatus:()=>t,onDone:this.onDone,labelDoneButton:p[this.props.locale].DROPDOWN_MULTISELECT_DONE,style:{position:"absolute",zIndex:100,top:r}})}return null}onKeyDown(e){e.key==="Tab"&&(this.shouldShowSuggestions=!e.shiftKey)}render(){const{id:e,noMatches:t,locale:n,value:s,onChange:r,onFocus:u,onReset:a}=this.props;return o.createElement("div",{className:"ffe-account-selector-multi",onKeyDown:this.onKeyDown},o.createElement(z,{id:e,value:s??"",onChange:r,onFocus:u,onReset:a,renderSuggestion:l=>this.renderSuggestion(l),renderNoMatches:()=>o.createElement(B,{value:t,locale:n}),shouldSelectHighlightedOnTab:!1,shouldHideSuggestionsOnReset:!0,onSuggestionSelect:this.onSuggestionSelect,locale:n,onSuggestionListChange:l=>{this.setState({suggestionListHeight:l})},suggestions:this.filterSuggestions(s),ref:l=>{this.baseRef=l},onBlur:this.onBlur}),this.state.suggestionListHeight>0&&this.renderSuggestionDetails(this.state.suggestionListHeight))}}M.__docgenInfo={description:"",methods:[{name:"filterSuggestions",docblock:null,modifiers:[],params:[{name:"value",optional:!0,type:{name:"string"}}],returns:null},{name:"onSuggestionSelect",docblock:null,modifiers:[],params:[{name:"suggestion",optional:!1,type:{name:"union",raw:"AllAccountsElement | T",elements:[{name:"signature",type:"object",raw:"{ id: 'all-accounts'; accountNumber: '' }",signature:{properties:[{key:"id",value:{name:"literal",value:"'all-accounts'",required:!0}},{key:"accountNumber",value:{name:"literal",value:"''",required:!0}}]}},{name:"T"}]}}],returns:null},{name:"renderSuggestion",docblock:null,modifiers:[],params:[{name:"account",optional:!1,type:{name:"union",raw:"T | AllAccountsElement",elements:[{name:"T"},{name:"signature",type:"object",raw:"{ id: 'all-accounts'; accountNumber: '' }",signature:{properties:[{key:"id",value:{name:"literal",value:"'all-accounts'",required:!0}},{key:"accountNumber",value:{name:"literal",value:"''",required:!0}}]}}]}}],returns:null},{name:"onBlur",docblock:null,modifiers:[],params:[],returns:null},{name:"onDone",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSuggestionDetails",docblock:null,modifiers:[],params:[{name:"listHeight",optional:!0,type:null}],returns:null},{name:"onKeyDown",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:{name:"ReactKeyboardEvent",raw:"React.KeyboardEvent<HTMLDivElement>",elements:[{name:"HTMLDivElement"}],alias:"React.KeyboardEvent"}}],returns:null}],displayName:"AccountSelectorMulti",props:{accounts:{required:!1,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:`Array of objects:
 {
     accountNumber: string.isRequired,
     balance: number,
     currencyCode: string.
     name: string.isRequired,
 }`},id:{required:!0,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:"'nb', 'nn', or 'en'"},noMatches:{required:!1,tsType:{name:"string"},description:"Overrides default string for all locales."},onAccountSelected:{required:!0,tsType:{name:"signature",type:"function",raw:"(account: T) => void",signature:{arguments:[{type:{name:"T"},name:"account"}],return:{name:"void"}}},description:"Called when an account is clicked"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onReset:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSelectAll:{required:!0,tsType:{name:"signature",type:"function",raw:"(allSelected: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"allSelected"}],return:{name:"void"}}},description:""},selectedAccounts:{required:!1,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:`Array of objects:
 {
     accountNumber: string.isRequired,
     balance: number,
     currencyCode: string.
     name: string.isRequired,
 }`},showSelectAllOption:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"string"},description:""}}};const ce={title:"components/account-selector/AccountSelectorMulti",component:M},E=[{accountNumber:"23200355148",name:"Brukskonto",currencyCode:"NOK",balance:1337},{accountNumber:"23201253845",name:"Sparekonto",currencyCode:"NOK",balance:13337},{accountNumber:"23207166200",name:"Min ekstrakonto",currencyCode:"NOK",balance:12345},{accountNumber:"23200840259",name:"Min siste konto",currencyCode:"NOK",balance:54321}],b={args:{accounts:E,id:"input-id",locale:"nb"},render:function(e){const[t,n]=N.useState(),[s,r]=N.useState([]),u=N.useId(),a=g=>{const m=s.filter(S=>S.accountNumber!==g.accountNumber),f=m.length!==s.length;r(f?m:[...s,g])},l=()=>{n(s.map(g=>g.name).join(", "))},c=()=>{n("")},d=()=>{s.length===E.length?r([]):r(E)},h=()=>{n(""),r([])};return o.createElement(te,{label:"Velg konto",inputId:e.id},o.createElement(M,{id:u,locale:"nb",accounts:E,onAccountSelected:a,selectedAccounts:s,value:t,onChange:g=>n(g),showSelectAllOption:!0,onSelectAll:d,onBlur:l,onFocus:c,onReset:h}))}};var _,D,k;b.parameters={...b.parameters,docs:{...(_=b.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {
    accounts,
    id: 'input-id',
    locale: 'nb'
  },
  render: function Render(args) {
    const [value, setValue] = useState<string>();
    const [selectedAccounts, setSelectedAccounts] = useState<Account[]>([]);
    const id = useId();
    const onAccountSelected = (selectedAccount: Account) => {
      const filteredAccounts = selectedAccounts.filter(it => it.accountNumber !== selectedAccount.accountNumber);
      const accountAlreadySelectedAndShouldBeRemoved = filteredAccounts.length !== selectedAccounts.length;
      if (accountAlreadySelectedAndShouldBeRemoved) {
        setSelectedAccounts(filteredAccounts);
      } else {
        setSelectedAccounts([...selectedAccounts, selectedAccount]);
      }
    };
    const onBlur = () => {
      setValue(selectedAccounts.map(acc => acc.name).join(', '));
    };
    const onFocus = () => {
      setValue('');
    };
    const onSelectAll = () => {
      if (selectedAccounts.length === accounts.length) {
        setSelectedAccounts([]);
      } else {
        setSelectedAccounts(accounts);
      }
    };
    const onReset = () => {
      setValue('');
      setSelectedAccounts([]);
    };
    return <InputGroup label="Velg konto" inputId={args.id}>
                <AccountSelectorMulti id={id} locale="nb" accounts={accounts} onAccountSelected={onAccountSelected} selectedAccounts={selectedAccounts} value={value} onChange={val => setValue(val)} showSelectAllOption={true} onSelectAll={onSelectAll} onBlur={onBlur} onFocus={onFocus} onReset={onReset} />
            </InputGroup>;
  }
}`,...(k=(D=b.parameters)==null?void 0:D.docs)==null?void 0:k.source}}};const ge=["Standard"],ye=Object.freeze(Object.defineProperty({__proto__:null,Standard:b,__namedExportsOrder:ge,default:ce},Symbol.toStringTag,{value:"Module"}));export{ye as A,b as S};
