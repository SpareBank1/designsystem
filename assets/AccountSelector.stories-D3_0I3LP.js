import{R as a,r as p}from"./index-RYns6xqu.js";import{c as _}from"./index-Dejnh_W_.js";import{a as qe,b as ze,f as dn}from"./format-BVbCZGIj.js";import{M as un}from"./MicroText-QSqQ4723.js";import{r as cn,i as pn,S as me}from"./index-Blkp7_GP.js";import{d as He}from"./index-DhQuXuqW.js";import{l as mn,S as fn}from"./Spinner-DE_tv5qo.js";import{P as fe}from"./Paragraph-uGacOKYl.js";import{I as gn}from"./Icon-Dor7S2yd.js";import{f as ge}from"./index-C_FWhylE.js";import{I as V}from"./InputGroup-DFg7WU2E.js";const Ge=({item:e,isHighlighted:n,locale:t,dropdownAttributes:r})=>{const{accountNumber:o,balance:i,name:s,currencyCode:l}=e,u=r.includes("balance")&&["string","number"].includes(typeof i);return a.createElement("div",{className:_("ffe-account-suggestion-single",{"ffe-account-suggestion-single--highlighted":n})},a.createElement("span",{className:"ffe-account-suggestion-single__name"},s),a.createElement("div",{className:"ffe-account-suggestion-single__details"},a.createElement("span",{className:"ffe-account-suggestion-single__number"},qe(o)),u&&a.createElement("span",{className:"ffe-account-suggestion-single__balance"},ze(i,t,l))))};Ge.__docgenInfo={description:"",methods:[],displayName:"AccountSuggestionSingle",props:{item:{required:!0,tsType:{name:"T"},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:""},isHighlighted:{required:!0,tsType:{name:"boolean"},description:""},dropdownAttributes:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(keyof T)[]"},description:""}}};function We({account:e,locale:n,showBalance:t=!0,ariaInvalid:r}){const{balance:o,accountNumber:i,currencyCode:s}=e??{},l=!e&&(r==="true"||r===!0);return a.createElement("div",{className:_("ffe-small-text","ffe-account-selector-single__details",{"ffe-account-selector-single__details--invalid-empty":l})},e&&a.createElement(a.Fragment,null,a.createElement("div",{className:"ffe-account-selector-single__details--left"},qe(i)),t&&a.createElement("div",{className:"ffe-account-selector-single__details--right"},ze(o,n,s))))}We.__docgenInfo={description:"",methods:[],displayName:"AccountDetails",props:{account:{required:!1,tsType:{name:"Account"},description:""},locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:""},showBalance:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},ariaInvalid:{required:!0,tsType:{name:"ReactComponentPropsWithoutRef['aria-invalid']",raw:"React.ComponentPropsWithoutRef<'div'>['aria-invalid']"},description:""}}};function Ke(e){var n=e.item,t=e.dropdownAttributes,r=e.isHighlighted,o=t[0],i=t.slice(1),s=n[o],l=i.map(function(u,m){return a.createElement(un,{className:"ffe-searchable-dropdown__detail-text",key:m},n[u])});return a.createElement("div",{className:_("ffe-searchable-dropdown__list-item-body",{"ffe-searchable-dropdown__list-item-body--highlighted":r})},s,!!l.length&&a.createElement("div",{className:"ffe-searchable-dropdown__list-item-body-details"},l))}Ke.__docgenInfo={description:"",methods:[],displayName:"OptionBody"};var he=function(e){return"".concat(e).toLowerCase()},hn=function(e,n,t,r){var o=r?r(t,n):function(i){return n.map(function(s){return he(i[s])}).some(function(s){return s.includes(he(t))})};return e.filter(o)},G=function(e){var n=e.inputValue,t=e.searchAttributes,r=e.maxRenderedDropdownElements,o=e.dropdownList,i=e.noMatchDropdownList,s=e.searchMatcher,l=e.showAllItemsInDropdown,u=n?n.trim():"",m=u.length>0,g=m?hn(o,t,u,s).slice(0,r):o==null?void 0:o.slice(0,r),y=function(){return l?o:g!=null&&g.length?g:i||[]};return{listToRender:y(),noMatch:!(g!=null&&g.length)}},v=function(){return v=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)},vn=function(e){var n=e.searchAttributes,t=e.dropdownList,r=e.noMatchDropdownList,o=e.maxRenderedDropdownElements,i=e.searchMatcher,s=e.onChange;return function(l,u){var m,g,y,A,x,w,L,B,E,h,O;switch(u.type){case"InputKeyDownEscape":return v(v({},l),{noMatch:!1,isExpanded:!1,highlightedIndex:-1,inputValue:l.selectedItem?l.selectedItem[n[0]]:""});case"InputClick":{var k=G({inputValue:l.inputValue,searchAttributes:n,maxRenderedDropdownElements:o,dropdownList:t,noMatchDropdownList:r,searchMatcher:i,showAllItemsInDropdown:!0}),b=k.noMatch,I=k.listToRender;return v(v({},l),{isExpanded:!0,listToRender:I,noMatch:b})}case"InputChange":{var S=G({inputValue:(g=(m=u.payload)===null||m===void 0?void 0:m.inputValue)!==null&&g!==void 0?g:"",searchAttributes:n,maxRenderedDropdownElements:o,dropdownList:t,noMatchDropdownList:r,searchMatcher:i,showAllItemsInDropdown:!1}),b=S.noMatch,I=S.listToRender;return v(v({},l),{isExpanded:!0,inputValue:(A=(y=u.payload)===null||y===void 0?void 0:y.inputValue)!==null&&A!==void 0?A:"",listToRender:I,highlightedIndex:((w=(x=u.payload)===null||x===void 0?void 0:x.inputValue)===null||w===void 0?void 0:w.trim())===""||I.length===0?-1:0,noMatch:b})}case"ToggleButtonPressed":return v(v({},l),{isExpanded:!l.isExpanded});case"ItemSelectedProgrammatically":case"ItemOnClick":case"InputKeyDownEnter":return v(v({},l),{isExpanded:!1,highlightedIndex:-1,selectedItem:(L=u.payload)===null||L===void 0?void 0:L.selectedItem,inputValue:((E=(B=u.payload)===null||B===void 0?void 0:B.selectedItem)===null||E===void 0?void 0:E[n[0]])||""});case"InputKeyDownArrowDown":case"InputKeyDownArrowUp":return v(v({},l),{isExpanded:!0,highlightedIndex:(O=(h=u.payload)===null||h===void 0?void 0:h.highlightedIndex)!==null&&O!==void 0?O:-1});case"FocusMovedOutSide":{var I=G({inputValue:l.inputValue,searchAttributes:n,maxRenderedDropdownElements:o,dropdownList:t,noMatchDropdownList:r,searchMatcher:i,showAllItemsInDropdown:!0}).listToRender,q=l.inputValue===""&&!!l.selectedItem,F=l.listToRender.length===1&&n.map(function(D){var f;return l.listToRender[0][D]===((f=l.selectedItem)===null||f===void 0?void 0:f[D])}).includes(!1)&&l.highlightedIndex!==-1,N=l.selectedItem;q?(s==null||s(null),N=void 0):F&&(s==null||s(l.listToRender[0]),N=l.listToRender[0]);var P=N?N[n[0]]:"";return v(v({},l),{isExpanded:!1,highlightedIndex:-1,inputValue:P,selectedItem:N,listToRender:I})}case"DropdownListPropUpdated":return v(v({},l),G({inputValue:l.inputValue,searchAttributes:n,maxRenderedDropdownElements:o,dropdownList:t,noMatchDropdownList:r,searchMatcher:i,showAllItemsInDropdown:!!l.selectedItem}));default:return l}}},ve=function(e,n){if(e){var t=cn(e,{boundary:n,block:"nearest",scrollMode:"if-needed"});t.forEach(function(r){var o=r.el,i=r.top,s=r.left;o.scrollTop=i,o.scrollLeft=s})}},bn=function(e,n){return e<=0?n-1:e-1},yn=function(e,n){return e===n-1?0:e+1},In=function(e){switch(e){case"nn":return"lukk alternativer";case"en":return"close alternatives";default:return"lukk alternativer"}},wn=function(e){switch(e){case"nn":return"åpne alternativer";case"en":return"open alternatives";default:return"åpne alternativer"}},En=function(e){switch(e){case"nn":return"Søket gav ingen treff";case"en":return"The search gave no result";default:return"Søket ga ingen treff"}},Cn=function(e){switch(e){case"nn":return"Valt element har vorte fjerna.";case"en":return"Selected item has been removed.";default:return"Valgt element har blitt fjernet."}},Mn=function(e,n){switch(e){case"nn":return"Element ".concat(n," er valgt.");case"en":return"Item ".concat(n," has been selected.");default:return"Element ".concat(n," er valgt.")}},An=function(e){switch(e){case"nn":return"Ingen resultat er tilgjengelege.";case"en":return"No results are available.";default:return"Ingen resultater er tilgjengelige."}},xn=function(e,n){switch(e){case"nn":return"".concat(n," resultat er tilgjengeleg, bruk opp- og nedpiltastene for å navigera. Trykk Enter for å velja.");case"en":return"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter key to select.");default:return"".concat(n," resultat").concat(n===1?"":"er"," er tilgjengelig, bruk opp- og nedpiltastene for å navigere. Trykk Enter for å velge.")}},Tn=function(e){switch(e){case"nn":return"Lastar inn alternativ.";case"en":return"Loading options.";default:return"Laster inn alternativer."}},ie=function(){var e="a11y-status-message",n=window.document.getElementById(e);return n||(n=window.document.createElement("div"),n.setAttribute("id",e),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-relevant","additions text"),Object.assign(n.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),window.document.body.appendChild(n),n)},Ue=He(function(){ie().textContent=""},500),Sn=function(e){var n=ie();e&&(n.textContent=e,Ue())},te=He(function(e){Sn(e())},200),Nn=function(e){var n=e.selectedValue,t=e.locale;return n?Mn(t,n):Cn(t)},Rn=function(e){var n=e.isExpanded,t=e.resultCount,r=e.locale;return n?t?xn(r,t):An(r):""},Ln=function(e){return Tn(e)},Bn=function(e){var n=e.hasFocus,t=e.isExpanded,r=e.isLoading,o=e.locale,i=e.resultCount,s=e.selectedValue,l=p.useRef(!0),u=p.useRef();p.useEffect(function(){if(r&&n){te(function(){return Ln(o)});return}if(l.current){l.current=!1;return}var m=s!==u.current;return m?(u.current=s,te(function(){return Nn({selectedValue:s,locale:o})})):te(function(){return Rn({isExpanded:t,resultCount:i,locale:o})}),function(){te.cancel(),Ue.cancel()}},[s,o,t,i,n,r])},be=function(e,n){var t=n.map(function(r){return e[r]}).join(" ");ie().textContent="".concat(t)},Ye=p.forwardRef,ae=function(){return ae=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ae.apply(this,arguments)},Dn=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t};function On(e,n){var t=e.item,r=e.isHighlighted,o=e.isSelected,i=e.children,s=e.onMouseEnter,l=e.onClick,u=Dn(e,["item","isHighlighted","isSelected","children","onMouseEnter","onClick"]),m=p.useId();return a.createElement("div",ae({id:m,role:"option",onMouseEnter:s,"aria-selected":o,ref:n,onClick:l,className:"ffe-searchable-dropdown__list-item-container"},u),i({item:t,isHighlighted:r,isSelected:o}))}var Qe=Ye(On);Qe.__docgenInfo={description:"",methods:[],displayName:"Option"};function $e(e){var n=e.noMatch,t=e.noMatchMessageId,r=e.listToRender,o=e.locale;return a.createElement("div",null,n.text?a.createElement("div",{className:"ffe-searchable-dropdown__no-match"},a.createElement(fe,{id:t},n.text)):r.length===0&&a.createElement(fe,{id:t,className:"ffe-screenreader-only"},En(o)))}$e.__docgenInfo={description:"",methods:[],displayName:"NoMatch"};var le=function(){return le=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},le.apply(this,arguments)};function kn(e,n){return n.some(function(t){return pn(e,t)})}function Xe(e){var n=e.noMatch,t=e.listToRender,r=e.noMatchMessageId,o=e.OptionBody,i=e.refs,s=e.highlightedIndex,l=e.dropdownAttributes,u=e.locale,m=e.onChange,g=e.selectedItems;return a.createElement(mn.Scrollbars,{autoHeight:!0,autoHeightMax:335},n&&a.createElement($e,{noMatch:n,noMatchMessageId:r,listToRender:t,locale:u}),t.map(function(y,A){return a.createElement(Qe,{isSelected:kn(y,g??[]),key:Object.values(y).join("-"),ref:i[A],isHighlighted:s===A,onClick:function(){m(y)},item:y},function(x){return a.createElement(o,le({},x,{locale:u,dropdownAttributes:l}))})}))}Xe.__docgenInfo={description:"",methods:[],displayName:"Results"};function jn(e){return function(n){e.forEach(function(t){typeof t=="function"?t(n):t!=null&&(t.current=n)})}}var ye=function(e){return function(n){n.nativeEvent.__eventFromFFESearchableDropdownId=e}},_n=function(e){var n=e.id,t=e.containerRef,r=e.handelFocusMovedOutside;p.useEffect(function(){var o=function(i){var s,l=i.target&&((s=t.current)===null||s===void 0?void 0:s.contains(i.target))||i.__eventFromFFESearchableDropdownId===n;l||r()};return document.addEventListener("mousedown",o),document.addEventListener("focusin",o),function(){document.removeEventListener("mousedown",o),document.removeEventListener("focusin",o)}},[n,t,r])},Vn=function(e){var n=e.isExpanded,t=e.onOpen,r=e.onClose;p.useEffect(function(){var o=n?t:r;o==null||o()},[n,t,r])},Fn=function(e){var n=e.listToRender,t=p.useState([]),r=t[0],o=t[1];return p.useLayoutEffect(function(){o(function(i){return Array(n.length).fill(null).map(function(s,l){return i[l]||p.createRef()})})},[n.length]),r},Ze=a.forwardRef(function(e,n){var t=e.locale,r=e.isExpanded,o=e.onClick,i=e.isLoading;return a.createElement("button",{type:"button",ref:n,"aria-label":r?In(t):wn(t),className:_("ffe-searchable-dropdown__button",{"ffe-searchable-dropdown__button--flip":r}),onClick:o},i?a.createElement(fn,null):a.createElement(gn,{fileUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgLTk2MCA5NjAgOTYwIiB3aWR0aD0iMjQiPjxwYXRoIGQ9Ik00ODAtMzczLjUzOXEtNy4yMzEgMC0xMy40NjEtMi4zMDgtNi4yMzEtMi4zMDgtMTEuODQ2LTcuOTIzTDI3NC45MjQtNTYzLjUzOXEtOC4zMDgtOC4zMDctOC41LTIwLjg4NC0uMTkzLTEyLjU3NyA4LjUtMjEuMjY5IDguNjkyLTguNjkyIDIxLjA3Ni04LjY5MnQyMS4wNzYgOC42OTJMNDgwLTQ0Mi43NjhsMTYyLjkyNC0xNjIuOTI0cTguMzA3LTguMzA3IDIwLjg4NC04LjUgMTIuNTc2LS4xOTIgMjEuMjY4IDguNSA4LjY5MyA4LjY5MiA4LjY5MyAyMS4wNzcgMCAxMi4zODQtOC42OTMgMjEuMDc2TDUwNS4zMDctMzgzLjc3cS01LjYxNSA1LjYxNS0xMS44NDYgNy45MjMtNi4yMyAyLjMwOC0xMy40NjEgMi4zMDhaIi8+PC9zdmc+",size:"md",className:"ffe-searchable-dropdown__button-icon"}))});Ze.__docgenInfo={description:"",methods:[],displayName:"ToggleButton"};var Je=a.forwardRef(function(e,n){var t=e.children,r=e.isExpanded;return a.createElement("div",{className:"ffe-searchable-dropdown__list-container"},a.createElement("div",{tabIndex:-1,className:_("ffe-searchable-dropdown__list",{"ffe-searchable-dropdown__list--open":r})},a.createElement("div",{ref:n,role:"listbox"},t)))});Je.__docgenInfo={description:"",methods:[],displayName:"ListBox"};var X=function(){return X=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},X.apply(this,arguments)},Pn=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},qn="ArrowUp",zn="ArrowDown",Hn="Escape",Gn="Enter";function Wn(e,n){var t,r,o,i,s,l,u,m=e.id,g=e.labelledById,y=e.className,A=e.dropdownList,x=e.dropdownAttributes,w=e.searchAttributes,L=e.maxRenderedDropdownElements,B=L===void 0?Number.MAX_SAFE_INTEGER:L,E=e.onChange,h=e.inputProps,O=e.optionBody,k=e.postListElement,b=e.noMatch,I=e.locale,S=I===void 0?"nb":I,q=e.ariaInvalid,F=e.formatter,N=F===void 0?function(c){return c}:F,P=e.searchMatcher,j=e.selectedItem,D=e.isLoading,f=D===void 0?!1:D,z=e.onOpen,H=e.onClose,Z=Pn(e,["id","labelledById","className","dropdownList","dropdownAttributes","searchAttributes","maxRenderedDropdownElements","onChange","inputProps","optionBody","postListElement","noMatch","locale","ariaInvalid","formatter","searchMatcher","selectedItem","isLoading","onOpen","onClose"]),J=p.useReducer(vn({dropdownList:A,searchAttributes:w,maxRenderedDropdownElements:B,noMatchDropdownList:b==null?void 0:b.dropdownList,searchMatcher:P,onChange:E}),{isExpanded:!1,selectedItems:[],highlightedIndex:-1,inputValue:j?j[x[0]]:""},function(c){return X(X({},c),G({inputValue:c.inputValue,searchAttributes:w,maxRenderedDropdownElements:B,dropdownList:A,noMatchDropdownList:b==null?void 0:b.dropdownList,searchMatcher:P,showAllItemsInDropdown:!!j}))}),d=J[0],C=J[1],ee=Fn({listToRender:d.listToRender}),se=p.useState(!1),nn=se[0],tn=se[1],re=p.useRef(null),de=p.useRef(null),ue=p.useRef(null),rn=O||Ke,ne=p.useRef(null),ce=p.useId(),oe=p.useRef(!1),pe=p.useRef(!1),on=function(){C({type:"InputClick"})},an=function(c){h!=null&&h.onBlur&&h.onBlur(c)};p.useEffect(function(){C({type:"ItemSelectedProgrammatically",payload:{selectedItem:j}})},[j,C]),Bn({hasFocus:nn,isExpanded:d.isExpanded,isLoading:f,locale:S,resultCount:d.listToRender.length,selectedValue:(t=d.selectedItem)===null||t===void 0?void 0:t[w[0]]}),p.useLayoutEffect(function(){var c,M;oe.current?((c=de.current)===null||c===void 0||c.focus(),oe.current=!1):pe.current&&((M=re.current)===null||M===void 0||M.focus(),pe.current=!1)}),p.useEffect(function(){C({type:"DropdownListPropUpdated"})},[A,C]),Vn({isExpanded:d.isExpanded,onClose:H,onOpen:z});var ln=p.useCallback(function(){return C({type:"FocusMovedOutSide"})},[]);_n({id:m,containerRef:ue,handelFocusMovedOutside:ln});var sn=function(c){if(c.key===Gn&&d.highlightedIndex>=0){c.preventDefault(),C({type:"InputKeyDownEnter",payload:{selectedItem:d.listToRender[d.highlightedIndex]}}),E==null||E(d.listToRender[d.highlightedIndex]);return}else if(c.key===Hn){C({type:"InputKeyDownEscape"});return}if(c.key===qn){if(c.preventDefault(),d.listToRender.length){var M=bn(d.highlightedIndex,d.listToRender.length);C({type:"InputKeyDownArrowUp",payload:{highlightedIndex:M}}),M>=0&&be(d==null?void 0:d.listToRender[M],x),ve(ee[M].current,ne.current)}return}if(c.key===zn&&(c.preventDefault(),d.listToRender.length)){var M=yn(d.highlightedIndex,d.listToRender.length);C({type:"InputKeyDownArrowDown",payload:{highlightedIndex:M}}),M>=0&&be(d==null?void 0:d.listToRender[M],x),ve(ee[M].current,ne.current)}};return a.createElement("div",{onKeyDown:sn,className:_(y,"ffe-searchable-dropdown"),ref:ue,onMouseDown:ye(m),onFocus:ye(m)},a.createElement("div",{className:"ffe-searchable-dropdown__input",onClick:function(){var c;(c=re.current)===null||c===void 0||c.focus()}},a.createElement("input",X({},h,{ref:jn([re,n]),id:m,"aria-labelledby":g,onClick:on,onChange:function(c){h!=null&&h.onChange&&h.onChange(c),C({type:"InputChange",payload:{inputValue:c.target.value}})},onFocus:function(){return tn(!0)},onBlur:an,"aria-describedby":[h==null?void 0:h["aria-describedby"],d.noMatch&&ce].filter(Boolean).join(" ")||void 0,value:N(d.inputValue),type:"text",role:"combobox",autoComplete:"off","aria-controls":(o=(r=ne.current)===null||r===void 0?void 0:r.getAttribute("id"))!==null&&o!==void 0?o:void 0,"aria-expanded":d.isExpanded&&!!d.listToRender.length,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":d.highlightedIndex>=0&&(l=(s=(i=ee[d.highlightedIndex])===null||i===void 0?void 0:i.current)===null||s===void 0?void 0:s.getAttribute("id"))!==null&&l!==void 0?l:void 0,"aria-invalid":(u=Z["aria-invalid"])!==null&&u!==void 0?u:q}))),a.createElement(Ze,{ref:de,isExpanded:d.isExpanded,onClick:function(){return C({type:"ToggleButtonPressed"})},locale:S,isLoading:f}),a.createElement(Je,{ref:ne,isExpanded:d.isExpanded},d.isExpanded&&a.createElement(Xe,{listToRender:d.listToRender,OptionBody:rn,highlightedIndex:d.highlightedIndex,dropdownAttributes:x,locale:S,refs:ee,onChange:function(c){oe.current=!0,C({type:"ItemOnClick",payload:{selectedItem:c}}),E==null||E(c)},noMatch:d.noMatch?b:void 0,noMatchMessageId:ce,selectedItems:d.selectedItem?[d.selectedItem]:[]}),k&&a.createElement("div",{className:"ffe-searchable-dropdown__list--post-list-element"},k)))}var en=Ye(Wn);en.__docgenInfo={description:"",methods:[],displayName:"SearchableDropdown"};const Kn=({accounts:e,selectedAccount:n,inputValue:t})=>n&&n.name===t&&!e.find(o=>o.accountNumber===n.accountNumber)?[...e,n]:e,R=({id:e,className:n,locale:t="nb",selectedAccount:r,hideAccountDetails:o=!1,showBalance:i=!1,noMatches:s,accounts:l,onAccountSelected:u,allowCustomAccount:m=!1,labelledById:g,listElementBody:y,postListElement:A,onReset:x,inputProps:w,formatAccountNumber:L=!0,ariaInvalid:B,onOpen:E,onClose:h,onColoredBg:O,...k})=>{const[b,I]=p.useState((r==null?void 0:r.name)||""),S=L?dn:void 0,q=(f,z)=>H=>{const Z=d=>`${d}`.replace(/(\s|\.)/g,"").toLowerCase(),J=Z(f);return z.some(d=>Z(H[d]).includes(J))},F=f=>{I(f.target.value),w!=null&&w.onChange&&w.onChange(f)},N=f=>{const z=f===null,H=!(f!=null&&f.accountNumber);z?(I(""),x()):H?(u({name:f.name,accountNumber:f.name}),I(f.name)):(u(f),I(f.name))},P=m&&b.trim()!==""?{dropdownList:[{name:S?S(b):b,accountNumber:""}]}:s,j=m?Kn({selectedAccount:r,accounts:l,inputValue:b}):l,D=k["aria-invalid"]??B;return a.createElement("div",{className:_("ffe-account-selector-single",{"ffe-account-selector-single--on-colored-bg":O},n),id:`${e}-account-selector-container`},a.createElement(en,{id:e,labelledById:g,inputProps:{...w,onChange:F},dropdownAttributes:i?["name","accountNumber","balance"]:["name","accountNumber"],postListElement:A,dropdownList:j,noMatch:P,formatter:S,onChange:N,searchAttributes:["name","accountNumber"],locale:t,optionBody:y||Ge,ariaInvalid:D,searchMatcher:q,selectedItem:r,onOpen:E,onClose:h}),!o&&a.createElement(We,{ariaInvalid:D,account:r,locale:t,showBalance:i&&["string","number"].includes(typeof(r==null?void 0:r.balance))}))};R.__docgenInfo={description:"",methods:[],displayName:"AccountSelector",props:{accounts:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:`Array of objects:
 {
     accountNumber: string.isRequired,
     name: string.isRequired,
     balance: number,
     currencyCode: string,
 }`},className:{required:!1,tsType:{name:"string"},description:""},id:{required:!0,tsType:{name:"string"},description:""},locale:{required:!1,tsType:{name:"union",raw:"'nb' | 'nn' | 'en'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"},{name:"literal",value:"'en'"}]},description:"",defaultValue:{value:"'nb'",computed:!1}},noMatches:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    text: string;
    dropdownList?: T[];
}`,signature:{properties:[{key:"text",value:{name:"string",required:!0}},{key:"dropdownList",value:{name:"Array",elements:[{name:"T"}],raw:"T[]",required:!1}}]}},description:"Overrides default string for all locales."},inputProps:{required:!1,tsType:{name:"ReactComponentPropsWithoutRef",raw:"React.ComponentPropsWithoutRef<'input'>",elements:[{name:"literal",value:"'input'"}]},description:"Props passed to the input field"},onAccountSelected:{required:!0,tsType:{name:"signature",type:"function",raw:"(account: T) => void",signature:{arguments:[{type:{name:"T"},name:"account"}],return:{name:"void"}}},description:"Returns the selected account object"},hideAccountDetails:{required:!1,tsType:{name:"boolean"},description:"Determines if account details should be shown (balance and account number under the input field)",defaultValue:{value:"false",computed:!1}},showBalance:{required:!1,tsType:{name:"boolean"},description:"Default false.",defaultValue:{value:"false",computed:!1}},formatAccountNumber:{required:!1,tsType:{name:"boolean"},description:"Default true.",defaultValue:{value:"true",computed:!1}},labelledById:{required:!1,tsType:{name:"string"},description:"id of element that labels input field"},allowCustomAccount:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},listElementBody:{required:!1,tsType:{name:"ReactComponentType",raw:"React.ComponentType<AccountSuggestionSingleProps<T>>",elements:[{name:"AccountSuggestionSingleProps",elements:[{name:"T"}],raw:"AccountSuggestionSingleProps<T>"}]},description:"Custom element to use for each item in the dropdown list"},postListElement:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Element to be shown below dropDownList"},"aria-invalid":{required:!1,tsType:{name:"AriaAttributes['aria-invalid']",raw:"AriaAttributes['aria-invalid']"},description:"Sets aria-invalid on input field"},ariaInvalid:{required:!1,tsType:{name:"AriaAttributes['aria-invalid']",raw:"AriaAttributes['aria-invalid']"},description:""},onOpen:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Prop passed to the dropdown list"},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},selectedAccount:{required:!1,tsType:{name:"T"},description:""},onReset:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when emptying the input field and moving focus away from the account selector"},onColoredBg:{required:!1,tsType:{name:"boolean"},description:"Adds alternative styling for better contrast on certain backgrounds"}}};const Un={title:"components/account-selector/AccountSelector",component:R,argTypes:{postListElement:{options:["text","html"],mapping:{text:"Some text describing the list",html:a.createElement("span",null,"Some text describing the list")}}}},Yn=[{accountNumber:"39920143613",name:"Brukskonto",currencyCode:"NOK",balance:1337},{accountNumber:"42142102514",name:"Brukskonto2",currencyCode:"NOK",balance:13337},{accountNumber:"23200355148",name:"Sparekonto1",currencyCode:"NOK",balance:109236},{accountNumber:"23207117277",name:"Sparekonto2",currencyCode:"NOK",balance:0}],T={args:{accounts:Yn,id:"input-id",labelledById:"label-id",locale:"nb",selectedAccount:void 0,onReset:ge,onAccountSelected:ge,formatAccountNumber:!0,allowCustomAccount:!1,onColoredBg:!1},render:e=>a.createElement(V,{label:"Velg konto",inputId:e.id,labelId:e.labelledById,onColoredBg:e.onColoredBg},a.createElement(R,{...e}))},W={args:{...T.args,showBalance:!0},render:e=>a.createElement(V,{label:"Velg konto",inputId:e.id,labelId:e.labelledById,onColoredBg:e.onColoredBg},a.createElement(R,{...e}))},K={args:{...T.args,allowCustomAccount:!0},render:e=>a.createElement(V,{label:"Velg konto",inputId:e.id,labelId:e.labelledById,onColoredBg:e.onColoredBg},a.createElement(R,{...e}))},U={args:{...T.args,formatAccountNumber:!1},render:e=>a.createElement(V,{label:"Velg konto",inputId:e.id,labelId:e.labelledById,onColoredBg:e.onColoredBg},a.createElement(R,{...e}))},Y={args:{...T.args,formatAccountNumber:!1},render:e=>{const n=({item:t,isHighlighted:r})=>a.createElement("div",{style:{padding:"8px",background:r?"#ff9100":"white"}},a.createElement("div",null,t.name),a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.createElement(me,null,t.accountNumber),a.createElement(me,null,t.balance)));return a.createElement(V,{label:"Velg konto",inputId:e.id,labelId:e.labelledById,onColoredBg:e.onColoredBg},a.createElement(R,{...e,listElementBody:n}))}},Q={args:{...T.args,hideAccountDetails:!1},render:e=>a.createElement(V,{label:"Velg konto",inputId:e.id,labelId:e.labelledById,onColoredBg:e.onColoredBg},a.createElement(R,{...e}))},$={args:{...T.args,postListElement:a.createElement("span",null,"Some text describing the list")},render:e=>a.createElement(V,{label:"Velg konto",inputId:e.id,labelId:e.labelledById,onColoredBg:e.onColoredBg},a.createElement(R,{...e}))};var Ie,we,Ee;T.parameters={...T.parameters,docs:{...(Ie=T.parameters)==null?void 0:Ie.docs,source:{originalSource:`{
  args: {
    accounts,
    id: 'input-id',
    labelledById: 'label-id',
    locale: 'nb',
    selectedAccount: undefined,
    onReset: fn,
    onAccountSelected: fn,
    formatAccountNumber: true,
    allowCustomAccount: false,
    onColoredBg: false
  },
  render: args => {
    return <InputGroup label="Velg konto" inputId={args.id} labelId={args.labelledById} onColoredBg={args.onColoredBg}>
                <AccountSelector {...args} />
            </InputGroup>;
  }
}`,...(Ee=(we=T.parameters)==null?void 0:we.docs)==null?void 0:Ee.source}}};var Ce,Me,Ae;W.parameters={...W.parameters,docs:{...(Ce=W.parameters)==null?void 0:Ce.docs,source:{originalSource:`{
  args: {
    ...Standard.args,
    showBalance: true
  },
  render: args => {
    return <InputGroup label="Velg konto" inputId={args.id} labelId={args.labelledById} onColoredBg={args.onColoredBg}>
                <AccountSelector {...args} />
            </InputGroup>;
  }
}`,...(Ae=(Me=W.parameters)==null?void 0:Me.docs)==null?void 0:Ae.source}}};var xe,Te,Se;K.parameters={...K.parameters,docs:{...(xe=K.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  args: {
    ...Standard.args,
    allowCustomAccount: true
  },
  render: args => {
    return <InputGroup label="Velg konto" inputId={args.id} labelId={args.labelledById} onColoredBg={args.onColoredBg}>
                <AccountSelector {...args} />
            </InputGroup>;
  }
}`,...(Se=(Te=K.parameters)==null?void 0:Te.docs)==null?void 0:Se.source}}};var Ne,Re,Le;U.parameters={...U.parameters,docs:{...(Ne=U.parameters)==null?void 0:Ne.docs,source:{originalSource:`{
  args: {
    ...Standard.args,
    formatAccountNumber: false
  },
  render: args => {
    return <InputGroup label="Velg konto" inputId={args.id} labelId={args.labelledById} onColoredBg={args.onColoredBg}>
                <AccountSelector {...args} />
            </InputGroup>;
  }
}`,...(Le=(Re=U.parameters)==null?void 0:Re.docs)==null?void 0:Le.source}}};var Be,De,Oe;Y.parameters={...Y.parameters,docs:{...(Be=Y.parameters)==null?void 0:Be.docs,source:{originalSource:`{
  args: {
    ...Standard.args,
    formatAccountNumber: false
  },
  render: args => {
    const CustomListElementBody = ({
      item,
      isHighlighted
    }: {
      item: Account;
      isHighlighted: boolean;
    }) => {
      return <div style={{
        padding: '8px',
        background: isHighlighted ? '#ff9100' : 'white'
      }}>
                    <div>{item.name}</div>
                    <div style={{
          display: 'flex',
          justifyContent: 'space-between'
        }}>
                        <SmallText>{item.accountNumber}</SmallText>
                        <SmallText>{item.balance}</SmallText>
                    </div>
                </div>;
    };
    return <InputGroup label="Velg konto" inputId={args.id} labelId={args.labelledById} onColoredBg={args.onColoredBg}>
                <AccountSelector {...args} listElementBody={CustomListElementBody} />
            </InputGroup>;
  }
}`,...(Oe=(De=Y.parameters)==null?void 0:De.docs)==null?void 0:Oe.source}}};var ke,je,_e;Q.parameters={...Q.parameters,docs:{...(ke=Q.parameters)==null?void 0:ke.docs,source:{originalSource:`{
  args: {
    ...Standard.args,
    hideAccountDetails: false
  },
  render: args => {
    return <InputGroup label="Velg konto" inputId={args.id} labelId={args.labelledById} onColoredBg={args.onColoredBg}>
                <AccountSelector {...args} />
            </InputGroup>;
  }
}`,...(_e=(je=Q.parameters)==null?void 0:je.docs)==null?void 0:_e.source}}};var Ve,Fe,Pe;$.parameters={...$.parameters,docs:{...(Ve=$.parameters)==null?void 0:Ve.docs,source:{originalSource:`{
  args: {
    ...Standard.args,
    postListElement: <span>Some text describing the list</span>
  },
  render: args => {
    return <InputGroup label="Velg konto" inputId={args.id} labelId={args.labelledById} onColoredBg={args.onColoredBg}>
                <AccountSelector {...args} />
            </InputGroup>;
  }
}`,...(Pe=(Fe=$.parameters)==null?void 0:Fe.docs)==null?void 0:Pe.source}}};const Qn=["Standard","ShowBalance","AllowCustomAccount","NoFormatAccount","ListElementBody","HideAccountDetails","PostListElement"],it=Object.freeze(Object.defineProperty({__proto__:null,AllowCustomAccount:K,HideAccountDetails:Q,ListElementBody:Y,NoFormatAccount:U,PostListElement:$,ShowBalance:W,Standard:T,__namedExportsOrder:Qn,default:Un},Symbol.toStringTag,{value:"Module"}));export{it as A,Q as H,Y as L,U as N,$ as P,T as S,W as a,K as b};
